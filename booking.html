
<!DOCTYPE HTML>
<html lang="en">
<head>
    
<title>Secure Hotel Reservation</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="Description" content="">

<link href='//cdn.hotelplanner.com/Common/CSS/_Shared.css?v=1.0.1' type='text/css' rel='stylesheet'>
<link href='//cdn.hotelplanner.com/Common/CSS/_Themes.css?v=20211108093524' type='text/css' rel='stylesheet'>


<link rel="shortcut icon" href="//cdn.hotelplanner.com/Common/Images/favicon-secure.ico">

<meta property="og:title"                content="Secure Hotel Reservation" />
<meta property="og:description"    content="Secure Hotel Reservation" />
<meta property="og:type" content="website" />
<meta property="og:image"              content="https://cdn.hotelplanner.com/common/images/site/4892/TravelSherlockLogo.png" />
<meta property="og:url"    content="https://wholesale.travelsherlock.com/Accept/CheckOut.htm?currency=USD&locale=en_US&sc=Wholesale&sslsite=WHOLESALE.TRAVELSHERLOCK.COM&uhid=6407378&vd=4XQK9kVS6VTprNNRNbaACw" />

    <link href="//cdn.hotelplanner.com/common/css/site/4892/custom.css?v=1611863554073" type="text/css" rel="stylesheet">

<meta name="robots" content="noindex,nofollow" />
<meta name="robots" content="none" />
<meta name="googlebot" content="noarchive,nofollow" />
<meta name="msnbot" content="noindex,nofollow" />

<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CWC2N9VH5D"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CWC2N9VH5D');
</script>
<script src="//cdn.hotelplanner.com/Common/Javascript/allPages-m.js"></script> 
    
          <script src="//ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
          <script src="//code.jquery.com/jquery-migrate-3.3.2.min.js"></script>
    
<link id="FontAwesomeCss" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"> <link rel="stylesheet" type='text/css' href="//cdn.hotelplanner.com/Common/CSS/bootstrap/bootstrap.less.css?v=1.0.3"> <link id="FontAwesomeCss" href="//cdn.hotelplanner.com/Common/CSS/FontAwesome5/css/all.min.css?v=20200203110098" rel="stylesheet"><link id="FontAwesomeShims" href="//cdn.hotelplanner.com/Common/CSS/FontAwesome5/css/v4-shims.min.css?v=20200203110098" rel="stylesheet"> <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/themes/smoothness/jquery-ui.min.css" /><script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script> <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script><script>$.fn.modal || document.write(unescape("%3Cscript src='//cdn.hotelplanner.com/Common/Javascript/bootstrap.min.js'%3E%3C/script%3E"))</script> 
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/jquery.bootstrapvalidator/0.5.2/css/bootstrapValidator.min.css"/><script type="text/javascript" src="//cdn.hotelplanner.com/common/javascript/checkout/bootstrapValidator.js?v=1.1.9"></script> <script src="//maps.googleapis.com/maps/api/js?v=weekly&amp;language=en&amp;libraries=places&amp;key=AIzaSyAq5f5VXG8bN1Z4NGrEppW1lPoNckXU0Zo"></script><script src="//cdn.hotelplanner.com/Common/Javascript/gmaps/places.autocomplete.js?v=20200408115034"></script><style>/*body.st_Group .pac-logo:after{display:none}*/body .pac-icon{background-image:url(//cdn.hotelplanner.com/Common/Images/_HotelPlanner/pin.png)!important;background-position:center center!important;background-size:auto!important}body .pac-item-query{color:#28323c!important}body .pac-item{font-size:13px;color:#717e8c!important;padding:5px 10px!important}body .pac-container{-webkit-box-shadow:0 5px 10px rgba(0,0,0,.3)!important;-moz-box-shadow:0 5px 10px rgba(0,0,0,.3)!important;box-shadow:0 5px 10px rgba(0,0,0,.3)!important}</style> <link href='//cdn.hotelplanner.com/Common/CSS/sumoselect/styles.css?v=1.0.3' type='text/css' rel='stylesheet'> <script src="//cdn.hotelplanner.com/Common/Javascript/jquery.sumoselect.min.js?v=1.0"></script> 
    <link rel="stylesheet" type="text/css" href="//cdn.hotelplanner.com/Common/CSS/CheckOut/v2.css?v=20220811034280" />
    <link rel="stylesheet" type="text/css" href="//cdn.hotelplanner.com/Common/CSS/CheckOut/3dmodal.css?v=20200430124725" />
    
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<script>
 _affirm_config = {
   public_api_key:  "RHN8HI3CRD46C9EH",
   script:          "https://cdn1.affirm.com/js/v2/affirm.js"
 };
(function(m,g,n,d,a,e,h,c){var b=m[n]||{},k=document.createElement(e),p=document.getElementsByTagName(e)[0],l=function(a,b,c){return function(){a[b]._.push([c,arguments])}};b[d]=l(b,d,"set");var f=b[d];b[a]={};b[a]._=[];f._=[];b._=[];b[a][h]=l(b,a,h);b[c]=function(){b._.push([h,arguments])};a=0;for(c="set add save post open empty reset on off trigger ready setProduct".split(" ");a<c.length;a++)f[c[a]]=l(b,d,c[a]);a=0;for(c=["get","token","url","items"];a<c.length;a++)f[c[a]]=function(){};k.async=
!0;k.src=g[e];p.parentNode.insertBefore(k,p);delete g[e];f(g);m[n]=b})(window,_affirm_config,"affirm","checkout","ui","script","ready","jsReady");
</script>


    <script src="https://js.stripe.com/v3/"></script>


<script>



// implement JSON.stringify serialization
JSON.stringify2 = function (obj) {
var t = typeof (obj);
if (t != "object" || obj === null) {

        // simple data type
        if (t == "string") obj = '"'+obj+'"';
        return String(obj);

}
else {

        // recurse array or object
        var n, v, json = [], arr = (obj && obj.constructor == Array);

        for (n in obj) {
                v = obj[n]; t = typeof(v);

                try {
                    if (t == "string") v = '"'+v+'"';
                    else if (t == "object" && v !== null) v = JSON.stringify(v);
                }
                catch (e) {
                    v = "circular object reference";
                }

                json.push((arr ? "" : '"' + n + '":') + String(v));
        }

        return (arr ? "[" : "{") + String(json) + (arr ? "]" : "}");
}
};

function detectCardType(CCNum) {

var CCNum2 = CCNum.replace(/ /g, ''); 

var card_types = [
  {
    name: 'american_express',
    pattern: /^3[47]/,
    valid_length: [15]
  }, {
    name: 'diners_club_carte_blanche',
    pattern: /^30[0-5]/,
    valid_length: [14]
  }, {
    name: 'diners_club_international',
    pattern: /^3(?:(?:0[0-5]|[689][0-9])[0-9]{11,16}|(?:095)[0-9]{10,15})$/,
    valid_length: [14,15,16,17,18,19]
  }, {
    name: 'voucher',
    pattern: /^9999/,
    valid_length: [16]
  }, {
    name: 'jcb',
    pattern: /^35(2[89]|[3-8][0-9])/,
    valid_length: [16]
  }, {
    name: 'laser',
    pattern: /^(6304|670[69]|6771)/,
    valid_length: [16, 17, 18, 19]
  }, {
    name: 'visa_electron',
    pattern: /^(4026|417500|4508|4844|491(3|7))/,
    valid_length: [16]
  }, {
    name: 'visa',
    pattern: /^4/,
    valid_length: [16]
  }, {
    name: 'mastercard',
    pattern: /^5[1-5]/,
    valid_length: [16]
  }, {
    name: 'maestro',
    pattern: /^(5018|5020|5038|0604|5612|5893|6390|6304|6759|676[1-3])/,
    valid_length: [12, 13, 14, 15, 16, 17, 18, 19]
  }, {
    name: 'discover',
    pattern: /^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,
    valid_length: [16]
  }
];

for (c in card_types) {
    if (CCNum2.match(card_types[c].pattern)) {
        return card_types[c].name;
    }
}

return '';

}

var checkoutParams = {
requestApproval: false,
standardApproval: false,
forceApproval: 0,
showCompCard: false,
useIpVerifyLink: false
};
discountFunctions = [];


(function($) {

isBusyGlbl = false;
isCnfrming = false;
shwBtnMsg = true;



$.fn.bootstrapValidator.validators.zipCode = {
html5Attributes: {
  message: 'message',
  country: 'country'
},

COUNTRY_CODES: ['BR', 'CA', 'CZ', 'DK', 'GB', 'IT', 'MA', 'NL', 'RO', 'RU', 'SE', 'SG', 'SK', 'US', 'AU'],

/**
 * Return true if and only if the input value is a valid country zip code
 *
 * @param {BootstrapValidator} validator The validator plugin instance
 * @param {jQuery} $field Field element
 * @param {Object} options Consist of key:
 * - message: The invalid message
 * - country: The country
 *
 * The country can be defined by:
 * - An ISO 3166 country code
 * - Name of field which its value defines the country code
 * - Name of callback function that returns the country code
 * - A callback function that returns the country code
 *
 * callback: function(value, validator, $field) {
 *      // value is the value of field
 *      // validator is the BootstrapValidator instance
 *      // $field is jQuery element representing the field
 * }
 *
 * @returns {Boolean|Object}
 */
validate: function(validator, $field, options) {
  var value = $field.val();
  if (value === '' || !options.country) {
    return true;
  }

  var country = options.country;
  if (typeof country !== 'string' || $.inArray(country, this.COUNTRY_CODES) === -1) {
    // Try to determine the country
    country = validator.getDynamicOption($field, country);
  }

  if (!country || $.inArray(country.toUpperCase(), this.COUNTRY_CODES) === -1) {
        $('#cityGroup').fadeIn();
    return true; //return { valid: false, message: $.fn.bootstrapValidator.helpers.format($.fn.bootstrapValidator.i18n.zipCode.countryNotSupported, country) };
  }

  var isValid = false;
  country = country.toUpperCase();
  switch (country) {
    case 'BR':
      isValid = /^(\d{2})([\.]?)(\d{3})([\-]?)(\d{3})$/.test(value);
      break;

    case 'AU':
      isValid = /^[0-9]{3}|[0-9]{4}$/.test(value);
      break;

    case 'CA':
                //isValid = /^(?:A|B|C|E|G|H|J|K|L|M|N|P|R|S|T|V|X|Y) {1}[0-9]{1}(?:A|B|C|E|G|H|J|K|L|M|N|P|R|S|T|V|W|X|Y|Z) {1}\s?[0-9]{1}(?:A|B|C|E|G|H|J|K|L|M|N|P|R|S|T|V|W|X|Y|Z) {1}[0-9]{1}$/i.test(value);
                isValid = /^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} *\d{1}[A-Z]{1}\d{1}$/i.test(value);
                break;

    case 'CZ':
      // Test: http://regexr.com/39hhr
      isValid = /^(\d{3})([ ]?)(\d{2})$/.test(value);
      break;

    case 'DK':
      isValid = /^(DK(-|\s)?)?\d{4}$/i.test(value);
      break;

    case 'GB':
      isValid = this._gb(value);
      break;

    // http://en.wikipedia.org/wiki/List_of_postal_codes_in_Italy
    case 'IT':
      isValid = /^(I-|IT-)?\d{5}$/i.test(value);
      break;

    // http://en.wikipedia.org/wiki/List_of_postal_codes_in_Morocco
    case 'MA':
      isValid = /^[1-9][0-9]{4}$/i.test(value);
      break;

    // http://en.wikipedia.org/wiki/Postal_codes_in_the_Netherlands
    case 'NL':
      isValid = /^[1-9][0-9]{3} ?(?!sa|sd|ss)[a-z]{2}$/i.test(value);
      break;

    case 'RO':
      isValid = /^(0[1-8]{1}|[1-9]{1}[0-5]{1})?[0-9]{4}$/i.test(value);
      break;

    case 'RU':
      isValid = /^[0-9]{6}$/i.test(value);
      break;

    case 'SE':
      isValid = /^(S-)?\d{3}\s?\d{2}$/i.test(value);
      break;

    case 'SG':
      isValid = /^([0][1-9]|[1-6][0-9]|[7]([0-3]|[5-9])|[8][0-2])(\d{4})$/i.test(value);
      break;

    case 'SK':
      // Test: http://regexr.com/39hhr
      isValid = /^(\d{3})([ ]?)(\d{2})$/.test(value);
      break;

    case 'US':
    /* falls through */
    default:
      //isValid = /^\d{4,5}([\-]?\d{4})?$/.test(value);
      isValid = /^\d{5}([\-]?\d{4})?$/.test(value); // zip plus 4
      //isValid = /^\d{5}$/.test(value); // zip only
      break;
  }

  return {
    valid: isValid,
    message: $.fn.bootstrapValidator.helpers.format(options.message || $.fn.bootstrapValidator.i18n.zipCode.country, $.fn.bootstrapValidator.i18n.zipCode.countries[country])
  };
},

/**
 * Validate United Kingdom postcode
 * Examples:
 * - Standard: EC1A 1BB, W1A 1HQ, M1 1AA, B33 8TH, CR2 6XH, DN55 1PT
 * - Special cases:
 * AI-2640, ASCN 1ZZ, GIR 0AA
 *
 * @see http://en.wikipedia.org/wiki/Postcodes_in_the_United_Kingdom
 * @param {String} value The postcode
 * @returns {Boolean}
 */
_gb: function(value) {
  var firstChar  = '[ABCDEFGHIJKLMNOPRSTUWYZ]',     // Does not accept QVX
    secondChar = '[ABCDEFGHKLMNOPQRSTUVWXY]',     // Does not accept IJZ
    thirdChar  = '[ABCDEFGHJKPMNRSTUVWXY]',
    fourthChar = '[ABEHMNPRVWXY]',
    fifthChar  = '[ABDEFGHJLNPQRSTUWXYZ]',
    regexps    = [
      // AN NAA, ANN NAA, AAN NAA, AANN NAA format
      new RegExp('^(' + firstChar + '{1}' + secondChar + '?[0-9]{1,2})(\\s*)([0-9]{1}' + fifthChar + '{2})$', 'i'),
      // ANA NAA
      new RegExp('^(' + firstChar + '{1}[0-9]{1}' + thirdChar + '{1})(\\s*)([0-9]{1}' + fifthChar + '{2})$', 'i'),
      // AANA NAA
      new RegExp('^(' + firstChar + '{1}' + secondChar + '{1}?[0-9]{1}' + fourthChar + '{1})(\\s*)([0-9]{1}' + fifthChar + '{2})$', 'i'),

      new RegExp('^(BF1)(\\s*)([0-6]{1}[ABDEFGHJLNPQRST]{1}[ABDEFGHJLNPQRSTUWZYZ]{1})$', 'i'),        // BFPO postcodes
      /^(GIR)(\s*)(0AA)$/i,                       // Special postcode GIR 0AA
      /^(BFPO)(\s*)([0-9]{1,4})$/i,               // Standard BFPO numbers
      /^(BFPO)(\s*)(c\/o\s*[0-9]{1,3})$/i,        // c/o BFPO numbers
      /^([A-Z]{4})(\s*)(1ZZ)$/i,                  // Overseas Territories
      /^(AI-2640)$/i                              // Anguilla
    ];
  for (var i = 0; i < regexps.length; i++) {
    if (regexps[i].test(value)) {
      return true;
    }
  }

  return false;
}
};

$.fn.bootstrapValidator.validators.cvv = {
html5Attributes: {
  message: 'message',
  ccfield: 'creditCardField'
},

/**
 * Return true if the input value is a valid CVV number.
 *
 * @param {BootstrapValidator} validator The validator plugin instance
 * @param {jQuery} $field Field element
 * @param {Object} options Can consist of the following keys:
 * - creditCardField: The credit card number field. It can be null
 * - message: The invalid message
 * @returns {Boolean}
 */
validate: function(validator, $field, options) {
  var value = $field.val();
  if (value === '') {
    return true;
  }

  if (value === '999') {
    return true;
  }

  if (!/^[0-9]{3,4}$/.test(value)) {
    return false;
  }

  if (!options.creditCardField) {
    return true;
  }

  // Get the credit card number
  var creditCard = validator.getFieldElements(options.creditCardField).val();
  if (creditCard === '') {
    return true;
  }

  creditCard = creditCard.replace(/\D/g, '');

  // Supported credit card types
  var cards = {
    AMERICAN_EXPRESS: {
      length: [15],
      prefix: ['34', '37']
    },
    DINERS_CLUB: {
      length: [14, 15, 16, 17, 18, 19],
      prefix: ['300', '301', '302', '303', '304', '305', '3095', '36', '38', '39']
    },
    DINERS_CLUB_US: {
      length: [16],
      prefix: ['54', '55']
    },
    DISCOVER: {
      length: [16],
      prefix: ['6011', '622126', '622127', '622128', '622129', '62213',
           '62214', '62215', '62216', '62217', '62218', '62219',
           '6222', '6223', '6224', '6225', '6226', '6227', '6228',
           '62290', '62291', '622920', '622921', '622922', '622923',
           '622924', '622925', '644', '645', '646', '647', '648',
           '649', '65']
    },
    JCB: {
      length: [16],
      prefix: ['3528', '3529', '353', '354', '355', '356', '357', '358']
    },
    LASER: {
      length: [16, 17, 18, 19],
      prefix: ['6304', '6706', '6771', '6709']
    },
    MAESTRO: {
      length: [12, 13, 14, 15, 16, 17, 18, 19],
      prefix: ['5018', '5020', '5038', '6304', '6759', '6761', '6762', '6763', '6764', '6765', '6766']
    },
    MASTERCARD: {
      length: [16],
      prefix: ['51', '52', '53', '54', '55']
    },
    SOLO: {
      length: [16, 18, 19],
      prefix: ['6334', '6767']
    },
    UNIONPAY: {
      length: [16, 17, 18, 19],
      prefix: ['622126', '622127', '622128', '622129', '62213', '62214',
           '62215', '62216', '62217', '62218', '62219', '6222', '6223',
           '6224', '6225', '6226', '6227', '6228', '62290', '62291',
           '622920', '622921', '622922', '622923', '622924', '622925']
    },
    VISA: {
      length: [16],
      prefix: ['4']
    }
  };
  var type, i, creditCardType = null;
  for (type in cards) {
    for (i in cards[type].prefix) {
      if (creditCard.substr(0, cards[type].prefix[i].length) === cards[type].prefix[i]    // Check the prefix
        && $.inArray(creditCard.length, cards[type].length) !== -1)                     // and length
      {
        creditCardType = type;
        break;
      }
    }
  }

  return (creditCardType === null)
        ? false
        : (('AMERICAN_EXPRESS' === creditCardType) ? (value.length === 4) : (value.length === 3));
}
};

$.fn.bootstrapValidator.validators.creditCard = {
/**
 * Return true if the input value is valid credit card number
 * Based on https://gist.github.com/DiegoSalazar/4075533
 *
 * @param {BootstrapValidator} validator The validator plugin instance
 * @param {jQuery} $field Field element
 * @param {Object} [options] Can consist of the following key:
 * - message: The invalid message
 * @returns {Boolean}
 */
validate: function(validator, $field, options) {

  var value = $field.val();
  if (value === '') {
    return true;
  }

  // Accept only digits, dashes or spaces
  if (/[^0-9-\s]+/.test(value)) {
    return false;
  }
  value = value.replace(/\D/g, '');

  if ((!$.fn.bootstrapValidator.helpers.luhn(value)) && (!value.match("2014")) && (!value.match("2149")) && (!value.match("9999"))) {
    return false;
  }

  // Validate the card number based on prefix (IIN ranges) and length
  var cards = {
    AMERICAN_EXPRESS: {
      length: [15],
      prefix: ['34', '37']
    },
    DINERS_CLUB: {
      length: [14, 15, 16, 17, 18, 19],
      prefix: ['300', '301', '302', '303', '304', '305', '3095', '36', '38', '39']
    },
    DINERS_CLUB_US: {
      length: [16],
      prefix: ['54', '55']
    },
    VOUCHER: {
      length: [16],
      prefix: ['9999']
    },
    DISCOVER: {
      length: [16],
      prefix: ['6011', '622126', '622127', '622128', '622129', '62213',
           '62214', '62215', '62216', '62217', '62218', '62219',
           '6222', '6223', '6224', '6225', '6226', '6227', '6228',
           '62290', '62291', '622920', '622921', '622922', '622923',
           '622924', '622925', '644', '645', '646', '647', '648',
           '649', '65']
    },
    JCB: {
      length: [16],
      prefix: ['3528', '3529', '353', '354', '355', '356', '357', '358']
    },
    LASER: {
      length: [16, 17, 18, 19],
      prefix: ['6304', '6706', '6771', '6709']
    },
    MAESTRO: {
      length: [12, 13, 14, 15, 16, 17, 18, 19],
      prefix: ['5018', '5020', '5038', '6304', '6759', '6761', '6762', '6763', '6764', '6765', '6766']
    },
    MASTERCARD: {
      length: [16],
      prefix: ['51', '52', '53', '54', '55']
    },
    SOLO: {
      length: [16, 18, 19],
      prefix: ['6334', '6767']
    },
    UNIONPAY: {
      length: [16, 17, 18, 19],
      prefix: ['622126', '622127', '622128', '622129', '62213', '62214',
           '62215', '62216', '62217', '62218', '62219', '6222', '6223',
           '6224', '6225', '6226', '6227', '6228', '62290', '62291',
           '622920', '622921', '622922', '622923', '622924', '622925']
    },
    VISA: {
      length: [16],
      prefix: ['4']
    }
  };

  var type, i;
  for (type in cards) {
    for (i in cards[type].prefix) {
      if (value.substr(0, cards[type].prefix[i].length) === cards[type].prefix[i]     // Check the prefix
        && $.inArray(value.length, cards[type].length) !== -1)                      // and length
      {
        return true;
      }
    }
  }

  return false;
}
};
}(window.jQuery));

var formErrorReport = {
threshold: 0,
count: 0,
data: []
};

$(document).ready(function() {

$.ajaxSetup({ cache: false });

$('body').on('keydown', function (e) {
if (e.ctrlKey) {
  $('#containerSummary').addClass( "whitetext" );
  if (typeof interval == 'undefined') interval = '';
  clearInterval(interval);
  interval = setInterval(function() {
    interval = clearInterval(interval);
    $('#containerSummary').removeClass("whitetext");
  }, 800);
}
});





  $('[name=phone_disp],[name=email]').on('change countrychange blur input', function(e) {

    var currentPhoneVal = $("input[name=phone_disp]").val().replace(/\D/g,'');

    // add phone country prefix for US
      if ( $('body').hasClass('countryUS') && currentPhoneVal.length == 10 ) {			
        $("input[name=phone_disp]").intlTelInput("setNumber", '+1' + currentPhoneVal);
        $("input[name=phone_disp]").intlTelInput("setCountry", "us");
        $("input[name=phone]").val( '+' + $("input[name=phone_disp]").val().replace(/\D/g,'') );
    }
    // add phone country prefix for CA
    if ( $('body').hasClass('countryCA') && currentPhoneVal.length == 10 ) {
        $("input[name=phone_disp]").intlTelInput("setNumber", '+1' + currentPhoneVal);
        $("input[name=phone_disp]").intlTelInput("setCountry", "ca");
        $("input[name=phone]").val( '+' + $("input[name=phone_disp]").val().replace(/\D/g,'') );
    }
    // add phone country prefix for CA starting with 0
    if ( $('body').hasClass('countryCA') && currentPhoneVal.length == 11 && currentPhoneVal.substring(0, 1) == '0' ) {
        $("input[name=phone_disp]").intlTelInput("setNumber", currentPhoneVal.replace("0", "+1"));
        $("input[name=phone]").val( '+' + $("input[name=phone_disp]").val().replace(/\D/g,'') );
        $("input[name=phone_disp]").intlTelInput("setCountry", "ca");
    }
    // add phone country prefix for AU
    if ( $('body').hasClass('countryAU') && currentPhoneVal.length == 10 && currentPhoneVal.substring(0, 1) == '0' ) {
        $("input[name=phone_disp]").intlTelInput("setCountry", "au");
        $("input[name=phone_disp]").intlTelInput("setNumber", currentPhoneVal.replace("0", "+61"));
        $("input[name=phone]").val( '+' + $("input[name=phone_disp]").val().replace(/\D/g,'') );
    }
    // add phone country prefix for DE
    if ( $('body').hasClass('countryDE') && currentPhoneVal.length == 12 && currentPhoneVal.substring(0, 1) == '0' ) {
        $("input[name=phone_disp]").intlTelInput("setCountry", "de");
        $("input[name=phone_disp]").intlTelInput("setNumber", currentPhoneVal.replace("0", "+49"));
        $("input[name=phone]").val( '+' + $("input[name=phone_disp]").val().replace(/\D/g,'') );
    }
    // add phone country prefix for GB
    if ( $('body').hasClass('countryGB') && currentPhoneVal.length == 11 && currentPhoneVal.substring(0, 1) == '0' ) {
        $("input[name=phone_disp]").intlTelInput("setCountry", "gb");
        $("input[name=phone_disp]").intlTelInput("setNumber", currentPhoneVal.replace("0", "+44"));
        $("input[name=phone]").val( '+' + $("input[name=phone_disp]").val().replace(/\D/g,'') );
    }
    // add phone country prefix for CH
    if ( $('body').hasClass('countryCH') && currentPhoneVal.length == 10 && currentPhoneVal.substring(0, 1) == '0' ) {
        $("input[name=phone_disp]").intlTelInput("setCountry", "ch");
        $("input[name=phone_disp]").intlTelInput("setNumber", currentPhoneVal.replace("0", "+41"));
        $("input[name=phone]").val( '+' + $("input[name=phone_disp]").val().replace(/\D/g,'') );
    }
    // add phone country prefix for ZA
    if ( $('body').hasClass('countryZA') && currentPhoneVal.length == 10 && currentPhoneVal.substring(0, 1) == '0' ) {
        $("input[name=phone_disp]").intlTelInput("setCountry", "za");
        $("input[name=phone_disp]").intlTelInput("setNumber", currentPhoneVal.replace("0", "+27"));
        $("input[name=phone]").val( '+' + $("input[name=phone_disp]").val().replace(/\D/g,'') );
    }
    
});

  
$('[name="ccNumber"]').on({
    paste : function(){
        if ( $('[name="ccNumber"]').val().substring(0, 4) != '9999' ){
            $.post('/common/cfcs/services/checkout/controller.cfc?method=ccp', function(data) {});
        }
    }
});


 



// anytime the phone number changes, delete the flag that marks the phone as verified
$('[name=phone_disp]').on('change', function(e) {
      delete checkoutParams.verified;
});



$('#checkoutForm textarea,#checkoutForm input[type=text]').attr('spellcheck',false);
$('#checkoutForm textarea,#checkoutForm input[type=text]').attr('autocorrect','off');


var useFullname = 1;


var fullnameConfig = {
trigger: 'blur',
validators: {
  notEmpty: {
    message: 'For each room, please enter one guest\'s name (must be 18 years or older)'
  },
  callback: {
    message: 'Please enter a full name (first and last)',
    callback: function(value, validator) {
      if (useFullname) {
        return value.trim().split(' ').length > 1 ? true : false;
      }
      return true;
    }
  }
},
onError: function(e, data) {
  formError();
}
};

var txtUnknownError = 'An unknown error occurred while processing your request',
  txtProblemFound = 'Problems found:';



$('#checkoutForm')
.on( "checkout:reqaction", function(e, res){

     $('.checkoutSubmit').button('acsrequest');
     try{

        eval("var accessCntrlSrvr = " + res.fn);
        accessCntrlSrvr();

    }
    catch(e){
        if(console)
            console.error(e);
            try{
             var fData = new FormData();
             fData.append("jsError", e);
             fData.append("res", res);
             fData.append("checkout", "reqaction");
             var xhr = new XMLHttpRequest();
             xhr.open('POST', '/Common/Cfcs/services/checkout/jserror.cfc?method=logError');
             xhr.send(fData);
            } catch(e) {
                if(console)
                    console.error(e);
            }
    }
})
.on( "checkout:confirm", function(e){

    try{

        if (isCnfrming) {
          return;
        }
        else {
          isCnfrming = true;
        }
        $('.checkoutSubmit').button('acsconfirm');

        //get around iOS bug
        if ($("body").hasClass("MobileSite"))
            document.getElementById("btnCheckoutSubmit").scrollIntoView({behavior: 'smooth', block: 'end'});

          if (shwBtnMsg) {
                try{
                    setTimeout(function(){
                        if ( isBusyGlbl ) {
                            $('.checkoutSubmit').button('reserving');
                            setTimeout(function(){
                                if (isBusyGlbl)
                                    $('.checkoutSubmit').button('processing');
                            }, 5000)
                         }

                    }, 4500);
                 }
                 catch(e){
                   if(console) console.warn(e);
                 }
            }

        $.ajax( "/common/cfcs/services/checkout/controller.cfc?method=confirmACS", {
            type: 'POST',
            dataType: 'json'
         })
         .done(function(res) {
            /*
            var eventName = + res.success ? 'succeeded' : "declined";
            $( "#checkoutForm" ).trigger( "checkout:" + eventName, [ res ] );
            */

            //if still not confirmed and fn is returned then reqAction again
            isCnfrming = false;
            var eventName = res.success ? 'succeeded' : ( res.fn ? "reqaction" : "declined" );
            $( "#checkoutForm" ).trigger( "checkout:" + eventName, [ res ] );

         })
         .fail(function(xhr, status, error) {

             try{
                $.post('/TT.htm?Type=4&PageURL=&Notes=Front End JS Details - ' + encodeURIComponent(JSON.stringify(xhr)), function(rr) {});
            }catch(e){}


            $( "#checkoutForm" ).trigger( "checkout:failed" );



         })
         .always(function(res) {
            isBusyGlbl = false;
            isCnfrming = false;
            $('.checkoutSubmit').button('reset');
         });

      }
      catch(e){
        if(console){
            console.error(e);
        }
        $.post('/TT.htm?Type=4&PageURL=&Notes=Front End JS 3 - Unknown Error Occurred&Data=' + JSON.stringify(e), function(rr) {  	});
      }

})
.on( "checkout:succeeded", function(e, res){

    $( 'body' ).append( '<form id="confirmation" method="post" target="_top" action="' + res.redirect + '"></form>' );
    for ( var p in res.params ) {

        if ( typeof res.params[p] == 'object' ) {

            for ( var q in res.params[p] ) {

                $( '#confirmation' ).append( '<input type="hidden" name="' + q + '" value="' + res.params[p][q] + '">' );
            }
        }
        else {

            $( '#confirmation' ).append( '<input type="hidden" name="' + p + '" value="' + res.params[p] + '">' );
        }
    }
    $( '#confirmation' ).submit();

})
.on( "checkout:declined", function(e, res){

     var errorMsg = '';
     isBusyGlbl = false;
     $('.checkoutSubmit').button('reset');

    if ( res.hasOwnProperty( 'message' ) && res.message.length ) {
        errorMsg =  txtProblemFound + '<br>' + res.message;
    } else if (res.hasOwnProperty('ERRORS') && res.ERRORS.length ) {
        var dataObj = res.ERRORS[0];
        errorMsg = dataObj.ERROR ? dataObj.ERROR : txtUnknownError;
        $.post('/TT.htm?Type=4&PageURL=&Notes=Front End JS 0 - Application Error Occurred&Data=' + JSON.stringify(res), function(rr) {      });
    } else {
        errorMsg =  txtUnknownError;
        $.post('/TT.htm?Type=4&PageURL=&Notes=Front End JS 1 - Unknown Error Occurred&Data=' + JSON.stringify(res), function(rr) {  	});
    }

    if ($("input#paymentMethod").val() == "applePay" || $("input#paymentMethod").val() == "googlePay") {
      $('.checkoutSubmit').hide();
      $('#applegooglepay-button').show();
    }
    $( '#checkoutError' ).fadeIn(400, scrollToError).html(errorMsg);

    try{

                if ( res.message && res.message.indexOf( 'pricechange' ) > -1  ) {
                    
                    $('#checkoutError').hide();
                    window.location.reload();
                    return;
                    
                }

        if ( res.message && res.message.indexOf( 'soldoutredirect' ) > -1  ) {

            
            if( getSoldOutURL(true).toLowerCase().indexOf( 'hotelroomtypes.htm' ) > -1 && res.message.indexOf( 'soldoutredirect-force' ) == -1 ){
                soldoutRatesModal();
                return;
            }
            

            window.location = getSoldOutURL(false);
        }
        else if ( res.ttampts && parseInt(res.ttampts) >= 3 ) {

            try {

                //3 attempts or more that failed make them enter number and cvv again most places do this on each failure
                var bsv = $('#checkoutForm').data('bootstrapValidator');

                bsv.resetField($("#card_number"), true);
                bsv.resetField($("#cvvNumber"), true);

            } catch(e) {
                //ignore any errors when attempting to reset the card and cvv
            }


        }
    }
    catch(e){
       if(console) { console.warn(e); }
       $.post('/TT.htm?Type=4&PageURL=&Notes=Front End JS 4 - Unknown Error Occurred&Data=' + JSON.stringify(e.message), function(rr) {  	});
    }

})
.on( "checkout:failed", function(e){
    isBusyGlbl = false;
    isCnfrming = false;
    $('.checkoutSubmit').button('reset');
    if ($("input#paymentMethod").val() == "applePay" || $("input#paymentMethod").val() == "googlePay") {
      $('.checkoutSubmit').hide();
      $('#applegooglepay-button').show();
    }
    $( '#checkoutError' ).fadeIn(400, scrollToError).html(txtUnknownError);
    $.post('/TT.htm?Type=4&PageURL=&Notes=Front End JS 2 - Unknown Error Occurred', function(rr) {  	});
})
.bootstrapValidator({
  feedbackIcons: {
    valid: 'glyphicon glyphicon-ok',
    invalid: 'glyphicon glyphicon-remove',
    validating: 'glyphicon glyphicon-refresh'
  },
  fields: {
    fullname1: {
      trigger: 'blur',
      validators: {
        notEmpty: {
          message: 'For each room, please enter one guest\'s name (must be 18 years or older)'
        },
        callback: {
          message: 'Please enter a full name (first and last)',
          callback: function(value, validator) {
            if (useFullname) {
              return value.trim().split(' ').length > 1 ? true : false;
            }
            return true;
          }
        }
      },
      onError: function(e, data) {
        formError();
      },
      onSuccess: function(e, data) {
        
        var ccFullname = $('[name=ccFullname]');
        if ((ccFullname.val() == '') && (ccFullname.is(":visible"))) {
          ccFullname.val(data.element[0].value);
          var f = $('#checkoutForm');
          f.bootstrapValidator('updateStatus', 'ccFullname', 'NOT_VALIDATED').bootstrapValidator('validateField', 'ccFullname');
        }
        
      }
    },
    fullname2: fullnameConfig,
    fullname3: fullnameConfig,
    fullname4: fullnameConfig,
    fullname5: fullnameConfig,
    fullname6: fullnameConfig,
    fullname7: fullnameConfig,
    fullname8: fullnameConfig,
    firstname1: fullnameConfig,
    lastname1: fullnameConfig,
    firstname2: fullnameConfig,
    lastname2: fullnameConfig,
    firstname3: fullnameConfig,
    lastname3: fullnameConfig,
    firstname4: fullnameConfig,
    lastname4: fullnameConfig,
    firstname5: fullnameConfig,
    lastname5: fullnameConfig,
    firstname6: fullnameConfig,
    lastname6: fullnameConfig,
    firstname7: fullnameConfig,
    lastname7: fullnameConfig,
    firstname8: fullnameConfig,
    lastname8: fullnameConfig,
    ccFullname: {
      trigger: 'blur',
      validators: {
        notEmpty: {
          message: 'Please enter the full name as it appears on your credit card'
        },
        callback: {
          message: 'Please enter a full name (first and last)',
          callback: function(value, validator) {
            if (useFullname) {
              return value.trim().split(' ').length > 1 ? true : false;
            }
            return true;
          }
        }
      },
      onError: function(e, data) {
        formError();
      }
    },
    address1: {
      trigger: 'blur',
      validators: {
        notEmpty: {
          message: 'Please enter your street address'
        }
      },
      onError: function(e, data) {
        formError();
      }
    },
    email: {
      trigger: 'blur',
      validators: {
        notEmpty: {
          message: 'Please enter a valid email address'
        },
        emailAddress: {
          message: 'Please enter a valid email address'
        },
        regexp: {
          regexp: '^[^@\\s]+@([^@\\s]+\\.)+[^@\\s]+$',
          message: 'Please enter a valid email address'
        },
        callback: {
          message: '',
          callback: function(value, validator) {
            return true;
          }
        }
      },
      onSuccess: function(e, data) {
        if ($('[name=recordFitAttempt]').val() == 0) {
          var email = $('#checkoutForm input[name=email]').val();
          var returnPage = $('[name=returnPage]').val();
          $.post('/common/cfcs/services/checkout/controller.cfc?method=fitAttempt', {
            email: email,
            returnPage: returnPage
          }, function(res) {
            $('[name=recordFitAttempt]').val(1);
          }, 'json');
        }
      },
      onError: function(e, data) {

        var t = $('[name=email]');
        var s = t.val();
        var m = s.match(new RegExp("@(gmail|yahoo|aol|hotmail|zoho|outlook)", "i"));
        if (m && m.length >= 1) {
          var d = m[0];
          t.val(s.substr( 0, s.indexOf(d) + d.length ) + ".com");
        }

        formError();
      }
    },
    email2: {
      trigger: 'blur',
      validators: {
        _notEmpty: {
          message: 'Please enter a valid email address'
        },
        emailAddress: {
          message: 'Please enter a valid email address'
        },
        regexp: {
          regexp: '^[^@\\s]+@([^@\\s]+\\.)+[^@\\s]+$',
          message: 'Please enter a valid email address'
        }
      },
      onError: function(e, data) {

        var t = $('[name=email2]');
        var s = t.val();
        var m = s.match(new RegExp("@(gmail|yahoo|aol|hotmail|zoho|outlook)", "i"));
        if (m && m.length >= 1) {
          var d = m[0];
          t.val(s.substr( 0, s.indexOf(d) + d.length ) + ".com");
        }

        formError();
      }
    },
    ccType2: {
      trigger: 'blur change',
      validators: {
        notEmpty: {
          message: 'Please select your card type'
        }
      }
    },

    

    NewApproverEmail: {
      trigger: 'blur',
      validators: {
        notEmpty: {
          message: 'Please enter a valid email address'
        },
        emailAddress: {
          message: 'Please enter a valid email address'
        },
        regexp: {
          regexp: '^[^@\\s]+@([^@\\s]+\\.)+[^@\\s]+$',
          message: 'Please enter a valid email address'
        }
      },
      onError: function(e, data) {

        var t = $('[name=email2]');
        var s = t.val();
        var m = s.match(new RegExp("@(gmail|yahoo|aol|hotmail|zoho|outlook)", "i"));
        if (m && m.length >= 1) {
          var d = m[0];
          t.val(s.substr( 0, s.indexOf(d) + d.length ) + ".com");
        }

        formError();
      }
    },

    NewApproverName: {
      trigger: 'blur',
      validators: {
        notEmpty: {
          message: 'This field is required'
        }
      }
    },

    city: {
      trigger: 'blur',
      validators: {
        notEmpty: {
          message: 'Please enter your city'
        }
      },
      onError: function(e, data) {
        formError();
      }
    },
    countrySelectBox: {
      feedbackIcons: false,
      onError: function(e, data) {
        formError();
      }
    },
    usStateSelectBox: {
      feedbackIcons: false,
      validators: {
        notEmpty: {
          message: 'Please select a state'
        }
      },
      onError: function(e, data) {
        formError();
      }
    },
    canadaProvinceSelectBox: {
      feedbackIcons: false,
      validators: {
        notEmpty: {
          message: 'Please select a province'
        }
      },
      onError: function(e, data) {
        formError();
      }
    },
    australiaStateSelectBox: {
      feedbackIcons: false,
      validators: {
        notEmpty: {
          message: 'Please select a state'
        }
      },
      onError: function(e, data) {
        formError();
      }
    },
    zipcode: {
      trigger: 'blur',
      validators: {
        notEmpty: {
          message: 'Please enter a valid zip code'
        },
        zipCode: {
          country: function(value, validator, $field) {
            return $('[name="countrySelectBox"]').val();
          },
          message: 'Please enter a valid zip code'
        }
      },
      onSuccess: function(e, data) {
        if ($('[name="countrySelectBox"]').val() == 'US') {
          $.ajax("/common/cfcs/services/checkout/controller.cfc?method=zipSearch&query=" + $(data.element).val(), { dataType: 'json' }).done(function(res) {
            if (res.hasOwnProperty('data') && res.data.length === 1 || res.hasOwnProperty('DATA') && res.DATA.length === 1 ) {
              var dataObj = res.hasOwnProperty('data') ? res.data : res.DATA;
              $('#cityStateGroup > div').html('<i class="fa fa-map-marker"></i> ' + dataObj[0].shortName);
              $('[name=cityStateAuto]').val(dataObj[0].shortName);
              $('#cityGroup').fadeOut();
              $('#stateGroup').fadeOut();
            }
            else {
              $('#cityStateGroup > div').text('');
              $('#cityGroup').fadeIn();
              $('#stateGroup').fadeIn();
            }
          }).fail(function() {
              $('#cityStateGroup > div').text('');
              $('#cityGroup').fadeIn();
              $('#stateGroup').fadeIn();
          });
        }
        if ($('[name="countrySelectBox"]').val() == 'CA') {
          $.ajax("/common/cfcs/services/checkout/controller.cfc?method=zipSearch&country=CA&query=" + $(data.element).val(), { dataType: 'json' }).done(function(res) {
                            if (res.success) {
                                $('[name=city]').val(res.city);
                                var provinceIndex = $('#canadaProvince li[data-val="' + res.province + '"]').index();
                                $('select[name="canadaProvinceSelectBox"]')[0].sumo.selectItem(provinceIndex);
                            }
          }).fail(function() {
              $('#cityStateGroup > div').text('');
              $('#cityGroup').fadeIn();
              $('#stateGroup').fadeIn();
          });
        }
      },
      onError: function(e, data) {
        formError();
      }
    },
    phone: {
      trigger: 'blur',
      validators: {
        callback: {
          message: 'Please enter a valid phone number',
          callback: function(value, validator) {
            if (value.replace(/\D/g, '').length >= 6) {
              return true;
            }
            else {
              return false;
            }
          }
        }
      },
      onError: function(e, data) {
        formError();
      }
    },
    mobilePhone: {
      trigger: 'blur',
      validators: {
        callback: {
          message: 'Please enter a valid mobile phone number',
          callback: function(value, validator) {
            if (value.replace(/\D/g, '').length >= 6) {
              return true;
            }
            else {
              return false;
            }
          }
        }
      },

      onError: function(e, data) {
        formError();
      }
    },
    ccNumber: {
      //trigger: 'keyup blur',
      trigger: 'blur',
      validators: {
        notEmpty: {
          message: 'Please enter your credit card number'
        },
        creditCard: {
          message: 'The credit card number is not valid'
        },
        callback: {
          message: 'The voucher you entered is invalid',
          callback: function(value, validator) {
            validateVoucher();
            return true;
          }
        }
      },
      onError: function(e, data) {
        formError();
      }/*,
      onSuccess: function() {
        validateVoucher();
      }*/
    },
    ccYear: {
      feedbackIcons: false,
      trigger: 'change blur',
      validators: {
        callback: {
          message: 'Expired',
          callback: function(value, validator) {
            return validateCreditCardExp(validator);
          }
        }
      },
      onError: function(e, data) {
        formError();
      },
      onSuccess: function() {
        //validateVoucher();
        var f = $('#checkoutForm');
        f.bootstrapValidator('updateStatus', 'ccNumber', 'NOT_VALIDATED').bootstrapValidator('validateField', 'ccNumber');
      }
    },
    voucherPin: {
      trigger: 'blur',
      validators: {
        callback: {
          message: 'Please enter a valid voucher PIN',
          callback: function(value, validator) {
            return /^[01]\d20\d{2}$/.test(value);
          }
        }
      },
      onError: function(e, data) {
        formError();
      }
    },
    cvvNumber: {
      trigger: 'blur',
      validators: {
        callback: {
          message: 'Please enter the CVV for your credit card',
          callback: function(value, validator) {
                 
                 return value !== '' ? true : false;
                 
          }
        },
        cvv: {
          creditCardField: 'ccNumber',
          message: 'The CVV number is not valid'
        }
      },
      onError: function(e, data) {
        formError();
      }
    },
    readTerms: {
      validators: {
        notEmpty: {
          message: 'Please check the box to accept the terms above'
        }
      },
      onSuccess: function(e, data) {
        //data.element.parent().children().removeClass('glyphicon-ok');
        
        data.element.parent().parent().parent().children().removeClass('glyphicon-ok');
        
      },
      onError: function(e, data) {
        //data.element.parent().children().removeClass('glyphicon-remove');
        
        data.element.parent().parent().parent().children().removeClass('glyphicon-remove');
        
      }
    },
    readTerms2: {
      validators: {
        notEmpty: {
          message: 'Please check the box to accept the terms above'
        }
      },
      onSuccess: function(e, data) {
        //data.element.parent().children().removeClass('glyphicon-ok');
        data.element.parent().parent().parent().children().removeClass('glyphicon-ok');
      },
      onError: function(e, data) {
        //data.element.parent().children().removeClass('glyphicon-remove');
        data.element.parent().parent().parent().children().removeClass('glyphicon-remove');
      }
    }
    
  },
  onSuccess: function(e) {

    try { e.preventDefault() } catch(e) { e.returnValue = false };

    $('.checkoutSubmit').button('loading');

    if (isBusyGlbl) {
      return;
    }
    else {
      isBusyGlbl = true;
    }


    var f = $('#checkoutForm');
    var validator = $('#checkoutForm').data('bootstrapValidator');

    $.post('/common/cfcs/services/checkout/controller.cfc?method=scrub', f.serialize(), function(data) {

      var res = (typeof data == 'string') ? $.parseJSON(data) : data;

      for (r in res) {
        var name = '[name=' + r + ']';
        $(name).val(res[r]);
        try {
            validator.revalidateField(r);
        }
        catch(e) {
            //console.log(e);
        }
      }

      if (!validator.isValid()) {
          isBusyGlbl = false;
          $('.checkoutSubmit').button('reset');
          try {
              $('body').scrollTop($(validator.getInvalidFields()[0]).offset().top - 10);
              $(validator.getInvalidFields()[0]).focus();
          }
          catch(e) {
              //console.log(e);
          }
          return;
      }



      var payOnOwn = $('[name=PayOnOwn]:checked').val();
      if ((payOnOwn == -1) || (payOnOwn == 0) || (payOnOwn == 2)) {

            var form = document.getElementById('checkoutForm');
               var formData = new FormData(form);
               $.ajax({
                   url: '/common/cfcs/services/checkout/controller.cfc?method=requestApproval',
                   data: formData,
                   contentType: 'multipart/form-data',
                   processData: false,
                   contentType: false,
                   type: 'POST',
                   success: function(data) {
                     var res = $.parseJSON(data);
                    isBusyGlbl = false;
                    $.post('/TT.htm?Type=3&PageURL=&Notes=Request Approval Success', function(res) {
                    });
                    $('.checkoutSubmit').button('reset');
                    if (res.hasOwnProperty('redirect')) {
                        window.location = res.redirect;
                    }
                    else {
                        $('#messageModalContent').html(res.message);
                        $('#messageModal').modal();
                    }
                    $('#checkoutForm')[0].reset();
                    $('#checkoutForm').data('bootstrapValidator').resetForm();
                   },
                   fail: function() {
                    $.post('/TT.htm?Type=4&PageURL=&Notes=Request Approval Fail', function(res) {
                    });
                    $('#checkoutError').fadeIn(400, scrollToError).html('An unknown error occurred while processing your request');
                    isBusyGlbl = false;
                    $('.checkoutSubmit').button('reset');
                   }
               });

        // $.post('/common/cfcs/services/checkout.cfc?method=requestApproval', f.serialize(), function(res) {
        //   isBusyGlbl = false;
        //   $.post('/TT.htm?Type=3&PageURL=&Notes=Request Approval Success', function(res) {
        //   });
        //   $('.checkoutSubmit').button('reset');
        //   $('#messageModalContent').html(res.message);
        //   $('#messageModal').modal();
        //   $('#checkoutForm')[0].reset();
        //   $('#checkoutForm').data('bootstrapValidator').resetForm();
        // }, 'json').fail(function() {
        //   $.post('/TT.htm?Type=4&PageURL=&Notes=Request Approval Fail', function(res) {
        //   });
        //   $('#checkoutError').fadeIn().html('An unknown error occurred while processing your request');
        //   isBusyGlbl = false;
        //   $('.checkoutSubmit').button('reset');
        // });

      }
      else {

            
            


          if ($('#phoneModal').length && !checkoutParams.hasOwnProperty('verified')) {
            showSmsCodeModal();
            return;
          }


        var paymentMethod = $("input#paymentMethod").val() || "cc";
        if (paymentMethod == "payLater") {
            affirmCheckout();
        } else if (paymentMethod == "applePay" || paymentMethod == "googlePay") {
            // Stop checkout process here and let paymentRequestButton get the payment method
            return;
        } else {
            submitCheckout();
        }


      }

    }, 'json');
  },
  onError: function(e, data) {
    setTimeout(function() {
      $('#checkoutForm').data('bootstrapValidator').disableSubmitButtons(false);
    }, 100);
  }
})
.on('change', '[name="countrySelectBox"]', function() {
  var country = $(this).val();
  $('#stateGroup').hide();
  if ((country == 'US') || (country == 'CA') || (country == 'GB') || (country == 'AU')) {
    $('#checkoutForm').bootstrapValidator('enableFieldValidators', 'zipcode', true);
    $('#zipcodeGroup').show();
  }
  else if (country == 'HK') {
    $('#zipcodeGroup').hide();
  }
  else {
    $('#checkoutForm').bootstrapValidator('enableFieldValidators', 'zipcode', false);
    $('#zipcodeGroup').show();
  }

  if ((country == 'CA') || (country == 'AU')) {
    $('.stateProvince,#stateGroup').hide();
    if (country == 'CA') {
      $('#checkoutForm').bootstrapValidator('enableFieldValidators', 'canadaProvinceSelectBox', true);
      $('#canadaProvince').show();
    }
    else {
      $('#checkoutForm').bootstrapValidator('enableFieldValidators', 'australiaStateSelectBox', true);
      $('#australiaState').show();
    }
    $('#stateprovinceGroup').show();
  }
  else {
    $('#checkoutForm').bootstrapValidator('enableFieldValidators', 'canadaProvinceSelectBox', false);
    $('#checkoutForm').bootstrapValidator('enableFieldValidators', 'australiaStateSelectBox', false);
    $('#stateprovinceGroup').hide();
  }

  if (country == 'US') {
    $('#zipcodeLabel').show();
    $('#postcodeLabel').hide();

    

  }
  else {
    $('#cityStateGroup > div').text('');
    $('#zipcodeLabel').hide();
    $('#postcodeLabel').show();

    if($("#addressGroup").is(":visible")){
        $('#cityGroup').fadeIn();
    }

    

  }

  if ($('[name=zipcode]').val() !== '') {
    $('#checkoutForm').bootstrapValidator('resetField', 'zipcode');
    $('#checkoutForm').bootstrapValidator('validateField', 'zipcode');
  }

  


})
.on('change', '[name="lastname1"]', function() {
  var ccFullname = $('[name=ccFullname]');
  if (($(this).val() !== '') && (ccFullname.val() == '')) {
    ccFullname.val($('[name="firstname1"]').val() + ' ' + $(this).val());
    var f = $('#checkoutForm');
    f.bootstrapValidator('updateStatus', 'ccFullname', 'NOT_VALIDATED').bootstrapValidator('validateField', 'ccFullname');
  }
})
.on('status.field.bv', function (e, data) {
  data.bv.disableSubmitButtons(false);
});



$('[name=cvvNumber]').on('input focus blur keyup change', function() {

  if ($('#checkoutForm').data('bootstrapValidator').isValidField('cvvNumber')) {
    $('#securityCodeHint').fadeOut();
  }
  else {
    var ccType = detectCardType($('[name="ccNumber"]').val());
    if (ccType == 'american_express') {
      $('#securityCodeHint > img')[0].src = '//cdn.hotelplanner.com/Common/Images/CheckOut/cvv-front.png';
                  $('#visaCodeHint').hide();
                  $('#amexCodeHint').show();
    }
    else {
      $('#securityCodeHint > img')[0].src = '//cdn.hotelplanner.com/Common/Images/CheckOut/cvv-back.png';
                  $('#visaCodeHint').show();
                  $('#amexCodeHint').hide();
    }
    $('#securityCodeHint').fadeIn();
  }

});

$("#voucherPinPrompt").on("click", function(){
  $('#voucherPinHint').slideToggle();
});

$("#voucherAddFunds").on("click", function(e){
  e.preventDefault();
  e.stopPropagation();

  var voucherNumber = $('[name=ccNumber]').val();
  if (/^9999\d{12}$/.test(voucherNumber)) {
    window.open("/Res/addFunds.htm?VoucherNumber=" + voucherNumber);
  } else {
    alert("Enter a voucher number to add funds");
  }
});

$("#voucher_pin").on("blur", function(){
  var pin = $(this).val();
  if (/^[01]\d20\d{2}$/.test(pin)) {
    $("[name=ccMonth]").val(pin.substr(0,2));
    $("[name=ccYear]").val(pin.substr(2,4));
  }
});

$('[name=textMe]').on('change', function() {
  if ($(this)[0].checked) {
    $('#mobilePhoneGroup').stop().fadeIn(function() {
      $('[name=mobilePhone]').focus();
    });
    if (($('[name=mobilePhone]').val() == '') && ($('[name=phone]').val() !== '')) {
      $('[name=mobilePhone_disp]').intlTelInput('setNumber', $('[name=phone]').val());
      $('[name=mobilePhone]').val($('[name=phone]').val());
    }
  }
  else {
    $('#mobilePhoneGroup').stop().hide();
  }
});

var submitCheckout = function() {

    if ($('#Attachment1').length) {

      var form = document.getElementById('checkoutForm');
      var formData = new FormData(form);
      $.ajax({
        url: '/common/cfcs/services/checkout/controller.cfc?method=checkout',
        data: formData,
        contentType: 'multipart/form-data',
        processData: false,
        contentType: false,
        type: 'POST',
        success: function(data) {

                    var res = $.parseJSON(data),
                        eventName = res.success ? 'succeeded' : ( res.fn ? "reqaction" : "declined" );

                    $( "#checkoutForm" ).trigger( "checkout:" + eventName, [ res ] );

        },
        fail: function(xhr, status, error) {

        try{
          $.post('/TT.htm?Type=4&PageURL=&Notes=Front End JS Details - ' + encodeURIComponent(JSON.stringify(xhr)), function(rr) {});
                }catch(e){}

        $( "#checkoutForm" ).trigger( "checkout:failed" );

        }
      });
    }
    else {

      $.post('/common/cfcs/services/checkout/controller.cfc?method=checkout', $('#checkoutForm').serialize(), function(res) {

                var eventName = res.success ? 'succeeded' : ( res.fn ? "reqaction" : "declined" );
                $( "#checkoutForm" ).trigger( "checkout:" + eventName, [ res ] );

      }, 'json').fail(function(xhr, status, error){

      try{
        $.post('/TT.htm?Type=4&PageURL=&Notes=Front End JS Details - ' + encodeURIComponent(JSON.stringify(xhr)), function(rr) {});
              }catch(e){}

      $( "#checkoutForm" ).trigger( "checkout:failed" );

      });
    }

};

// Validate and Calculate Discounts

  // Travel insurance
  (function(w,d,c,n,s,p){
    w[n] = w[n] || function () { (w[n].q = w[n].q || []).push(arguments) }, w[n].l = +new Date();
    s = d.createElement(c), p = d.getElementsByTagName(c)[0];
    s.async = s.src = 'https://icw.protecht.io/client-widget.min.js';
    p.parentNode.insertBefore(s, p);
  })(window,document,'script','tg');

  
  tg('configure', {
    apiKey: 'pk_live_0c5f3f8f16d3a9f6e850ae715fb07c0d4e2071d1',
    templateId: "hotelplanner",
    
      locale: 'en_US',
    
    currency: 'USD',
    costsOfItems: ['134.03'],
    loadedCb: function() {
        $("#travelInsuranceToken").val(tg.get("token"));
    },
    optInCb: function() {
        var reservationTotal = 134.03;
        var insuranceAmount = tg.get("quote") * 1;
        var totalWithInsurance = reservationTotal + insuranceAmount;
        var insuranceSummary = "<ul class='last'><li>StayShield Protection: $" + insuranceAmount.toFixed(2) + " USD</li></ul>";
        $("#insuranceSummary").html(insuranceSummary);
        $("#totalPriceValue").html("$" + totalWithInsurance.toFixed(2) + " USD");
        $("#travelInsuranceAmount").val(insuranceAmount);
        $("#travelInsuranceOptIn").val(1);
        
            $(".affirm-as-low-as").attr("data-amount",totalWithInsurance*100);
            affirm.ui.refresh();
        
    },
    optOutCb: function() {
        var reservationTotal = 134.03;
        $("#insuranceSummary").html("");
        $("#totalPriceValue").html($("#totalPriceValue").data("original"));
        $("#travelInsuranceAmount").val("");
        $("#travelInsuranceOptIn").val(0);
        
            $(".affirm-as-low-as").attr("data-amount",reservationTotal*100);
            affirm.ui.refresh();
        
    },
    onErrorCb: function(object){
        if (tg) {
          tg.destroy();
          
        }
        $("#tg-placeholder").remove();
        $("#insuranceSummary").html("");
        $("#travelInsuranceToken").val("");
        $("#travelInsuranceAmount").val("");
        $("#travelInsuranceOptIn").val(0);
    }
  });
  


function changePaymentMethod(paymentMethod) {
    var isVoucher = false;

    
      $("#paymentMethodErrorMsg").hide();
      if ($("#paymentMethodTab_" + paymentMethod).data("insurable")) {
        $("#tg-placeholder").show();
      } else {
        if (tg && tg.isProtected && tg.isProtected()) {
          var insuranceMsg = "Sorry, travel protection is not available when paying by {paymentMethod}. Please remove travel protection to use this payment method.".replace("{paymentMethod}", $(".tabLabel", "#paymentMethodTab_" + paymentMethod).html());
          $("#paymentMethodErrorMsg").html(insuranceMsg).show();
          return;
        } else {
          $("#tg-placeholder").hide();
        }
      }
    
      $(".paymentMethodTab").removeClass("selected");
      $("#paymentMethodTab_" + paymentMethod).addClass("selected");
      $("input#paymentMethod").val(paymentMethod);
    

    if (paymentMethod == "voucher") {
       isVoucher = true;
       paymentMethod = "cc";
    }

    $(".paymentFields").hide();
    $("#paymentFields_" + paymentMethod).show();

    if (isVoucher) {
      
      $("#paymentMethodLabel").html("Voucher");
      $(".hideforvoucher").hide();
      $(".hideforcc").show();
      $("#cvvNumber").val("111");
      $('.fa-credit-card', '#paymentFields_cc').hide();
      $("#card_number").attr("placeholder", "Voucher Number").addClass("voucher");
    } else if (paymentMethod == "cc") {
      
      $("#paymentMethodLabel").html("Credit or Debit Card");
      $(".hideforvoucher").show();
      $(".hideforcc").hide();
      $("#ccTypeGroup").hide();
      
      
        $("#cvvNumber").val("");
      
      $('.fa-credit-card', '#paymentFields_cc').show();
      $("#card_number").attr("placeholder", "Card Number").removeClass("voucher");
    }
    
      else if (paymentMethod == 'applePay' || paymentMethod == 'googlePay') {
        $(".hideforcc").hide();
        $(".hideforvoucher").hide();
        $('#billing').hide();
        mountPaymentButton();
      }

    if (paymentMethod != 'applePay' && paymentMethod != 'googlePay') {
      if ($("#paymentMethodId").val() != "") {
        $("#paymentMethodId").val("");
        $("#card_number").val("");
        $("[name=ccMonth]").val("");
        $("[name=ccYear]").val("");
        $("[name=ccFullname]").val("");
        $('#digitalWallet').val("");
      }
      $('#billing').show();
      $('#applegooglepay-button').empty();
      $('.checkoutSubmit').show();
    }
    

    $(".checkoutSubmit").button(paymentMethod == "cc" ? "reset" : paymentMethod.toLowerCase());
}


  $(".paymentMethodTab").on("click", function() {
    changePaymentMethod($(this).data("paymentmethod"));
  });
  $(".paymentMethodTab.selected").trigger("click");

  affirmCheckout = function() {
    
    var item = {
       "display_name": "Delta Hotels by Marriott Dallas Southlake - 3/3/2023 to 3/4/2023",
       "sku": "6407378",
       "unit_price": 10399,
       "qty": 1,
        
          "item_image_url": "//hotelmedia.s3.amazonaws.com/720/480/8e4f03f5f46a7643851801da15cbe38ac0ad8b98",
        
       "item_url": "https://WHOLESALE.TRAVELSHERLOCK.COM/Hotel/HotelRoomTypes.htm?HotelID=6407378&idTypeId=0"
    }

    var fullName = $("[name=ccFullname").val().split(" ");
    var city = $("[name=city").val();
    if (!city.length) {
      city = $("[name=cityStateAuto").val().split(",")[0];
    }
    var state = $("[name=usStateSelectBox").val();
    if (!state.length) {
      state = $("[name=cityStateAuto").val().split(" ").pop();
    }
    var customer = {
        "name":{
           "first": fullName[0],
           "last": fullName.pop()
        },
        "address":{
           "line1": $("[name=address1").val(),
           "line2": "",
           "city": city,
           "state": state,
           "zipcode": $("[name=zipcode").val(),
           "country":"USA"
        },
        "phone_number": $("[name=phone").val(),
        "email": $("[name=email").val()
    };

    var affirmOrder = {
       "merchant":{
          "name": "wholesale.TravelSherlock.com",
          "use_vcn": true
       },
       "billing": customer,
       "items": [ item ],
       "metadata": {
           "mode": "modal"
         },
       "tax_amount":3004,
       "total":13403
    };
    

    affirm.checkout.open_vcn({
        success: function(response) {
           var ccMonth = response.expiration.substr(0,2);
           if (ccMonth.substr(0,1) == "0") {
              ccMonth = ccMonth.substr(1,1);
           }
           var ccYear = response.expiration.substr(2,2);
           ccYear = "20" + ccYear;

           $("#card_number").val(response.number);
           $("[name=ccMonth]").val(ccMonth);
           $("[name=ccYear]").val(ccYear);
           $("#cvvNumber").val(response.cvv);
           $("#paymentDetails").val(JSON.stringify(response));
           submitCheckout();
        },
        error: function(error_response) {
          $('.checkoutSubmit').button('reset');
          $('.paymentMethodTab:visible:first').trigger('click');
        },
        checkout_data: affirmOrder
    });
  }


applyPaymentMethodTabStyles = function() {
  var tabCount = $("#paymentMethodTabs .paymentMethodTab:visible").length;
  if (tabCount == 1) {
    $("#paymentMethodTabs").hide();
  } else {
    
      var paymentMethodColumns = [3,5,6].includes(tabCount) ? 3 : [4,7,8].includes(tabCount) ? 4 : 2;
    
    $("#paymentMethodTabs").show().removeClass("display2cols").removeClass("display3cols").removeClass("display4cols").addClass("display" + paymentMethodColumns + "cols");
  }
}


  var stripe = Stripe('pk_live_51BG5sGHgH8qz15xbrrX8QoSlZG6QAwY6okrcMPnwWPtwRR3vpxig3Q396maVpNHl0PVuopvp4mmbUeEo88ISs6OM005gzT7hNu', { apiVersion: "2020-03-02"});
  createPaymentRequest = function(){
    paymentRequest = stripe.paymentRequest({
      country: 'US',
      currency: 'usd',
      total: {
        label: 'Delta Hotels by Marriott Dallas Southlake - 3/3/2023 to 3/4/2023',
        amount: 13403,
      },
      requestPayerName: true,
      requestPayerEmail: true
    });
  

    paymentRequest.canMakePayment().then(function(result) {
      if (false && result.applePay) {
        $('#paymentMethodTab_applePay').show().trigger('click');
      } else {
        $('#paymentMethodTab_applePay').hide();
      }

      if (true && result.googlePay) {
        $('#paymentMethodTab_googlePay').show();
      } else {
        $('#paymentMethodTab_googlePay').hide();
      }

      applyPaymentMethodTabStyles();
    });
  }

  mountPaymentButton = function(){
    
      var btnTheme = 'dark';
    
    var elements = stripe.elements();
    var prButton = elements.create('paymentRequestButton', {
      paymentRequest: paymentRequest,
      style: {
          paymentRequestButton: {
            type: 'book',
            theme: btnTheme
          },
      }
    });

    // Check the availability of the Payment Request API first.
    paymentRequest.canMakePayment().then(function(result) {
      if (result) {
        $('.checkoutSubmit').hide();
        prButton.mount('#applegooglepay-button');
      } else {
        // Cannot make payment. Do not mount, hide Apple Pay and Google Pay tabs
        $('#paymentMethodTab_applePay').hide();
        $('#paymentMethodTab_googlePay').hide();
        $('.paymentMethodTab:visible:first').trigger('click');
      }
    });

    prButton.on('click', function(ev) {
      $('#checkoutForm').data('bootstrapValidator').validate();
      if (!$('#checkoutForm').data('bootstrapValidator').isValid()) {
        $('#checkoutError').hide();
        ev.preventDefault();
      }
    });

  }

  createPaymentRequest();
  
  paymentRequest.on('paymentmethod', function(ev) {
    //console.log(ev);
    try {
       if (
          typeof ev.paymentMethod.billing_details.address.line1       != "string" || ev.paymentMethod.billing_details.address.line1.length      == 0  ||
          typeof ev.paymentMethod.billing_details.address.city        != "string" || ev.paymentMethod.billing_details.address.line1.city        == 0  ||
          typeof ev.paymentMethod.billing_details.address.state       != "string" || ev.paymentMethod.billing_details.address.state.length      == 0  ||
          typeof ev.paymentMethod.billing_details.address.country     != "string" || ev.paymentMethod.billing_details.address.line1.country     == 0  ||
          typeof ev.paymentMethod.billing_details.address.postal_code != "string" || ev.paymentMethod.billing_details.address.line1.postal_code == 0
        ) {
        var addressMsg = "Please add your billing address to your payment method in {paymentMethod}.".replace("{paymentMethod}", $(".tabLabel", "#paymentMethodTab_" + paymentMethod).html());
        $( '#checkoutError' ).fadeIn(400, scrollToError).html(addressMsg);
        ev.complete('fail');
        return;
       }

       $('#digitalWallet').val(ev.paymentMethod.card.wallet.type == 'apple_pay' ? "AP" : "GP");
       $("#paymentMethodId").val(ev.paymentMethod.id);
       $("#card_number").val(ev.paymentMethod.card.last4);
       $("[name=ccMonth]").val(ev.paymentMethod.card.exp_month);
       $("[name=ccYear]").val(ev.paymentMethod.card.exp_year);
       $("[name=ccFullname]").val(ev.paymentMethod.billing_details.name).trigger('change');
       $("[name=address1]").val(ev.paymentMethod.billing_details.address.line1).trigger('change');
       $("[name=city]").val(ev.paymentMethod.billing_details.address.city).trigger('change');
       $("[name=usStateSelectBox]").val(ev.paymentMethod.billing_details.address.state).trigger('change');
       $("[name=countrySelectBox]").val(ev.paymentMethod.billing_details.address.country).trigger('change');
       $("[name=zipcode]").val(ev.paymentMethod.billing_details.address.postal_code).trigger('blur');

       var cardBrand = ev.paymentMethod.card.brand.toLowerCase();
       if (cardBrand == "american express" || cardBrand == "amex") {
        $('[name=ccType]').val('AX');
       } else if (cardBrand == "diners club") {
        $('[name=ccType]').val('DC');
       } else if (cardBrand == "discover") {
        $('[name=ccType]').val('DS');
       } else if (cardBrand == "jcb") {
        $('[name=ccType]').val('JC');
       } else if (cardBrand == "mastercard") {
        $('[name=ccType]').val('CA');
       } else if (cardBrand == "visa") {
        $('[name=ccType]').val('VI');
       } else {
        $('[name=ccType]').val('');
       }

       ev.complete('success');
      
       $('.checkoutSubmit', '#submit-wrapper').show();
       $('#applegooglepay-button').hide();
       submitCheckout();
    } catch (e) {
      //console.log(e);
      ev.complete('fail');
    }
  });


$(':input[name="phone"]').intlTelInput({
    "preferredCountries" :['US']
});

$(':input[name="phone"]').intlTelInput("setCountry", "US");

$(':input[name="mobilePhone"]').intlTelInput({
    "preferredCountries" :['US']
});

$(':input[name="mobilePhone"]').intlTelInput("setCountry", "US");

var addEmailLinkState = 1;
$('#addEmailLink').on("click", function(e) {
  try { e.preventDefault() } catch(e) { e.returnValue = false };

  if (addEmailLinkState) {
    
    $('#secondEmailGroup').stop().fadeIn(function() {
      $('[name=email2]').focus();
    });
    

    $(this).hide();
    addEmailLinkState = 0
  }
  else {
    $('#secondEmailGroup').stop().hide();
    $(this).show();
    addEmailLinkState = 1;
  }
});

var specialRequestsLinkState = 1;
$('#specialRequestsLink').on("click", function(e) {
  try { e.preventDefault() } catch(e) { e.returnValue = false };

  if (specialRequestsLinkState) {
    
    $('#specialRequestsGroup').stop().fadeIn(function() {
      $('[name=specialRequests]').focus();
    });
    

    $(this).hide();
    specialRequestsLinkState = 0
  }
  else {
    $('#specialRequestsGroup').stop().hide();
    $(this).show();
    specialRequestsLinkState = 1;
  }
});

$('[name=countrySelectBox]').val('US').trigger('change');


    $('[name=fullname1]').on('blur', function() { $(this).val($(this).val().trim()); });
  

 $('#addRoommateName1Link').on('click', function(e) {
     e.preventDefault();
     $('#room1Roommates').show();
     $(this).parent().hide();
     return false;
 });
 
 $('#addRoommateName1Link').on('click', function(e) {
     e.preventDefault();
     $('#room1Roommates').show();
     $(this).parent().hide();
     return false;
 });
 

$('[name=cvvNumber]').on('blur', function() {
  if ($(this).val != '') {
    $(this).val($(this).val().trim());
    $('#checkoutForm').bootstrapValidator('updateStatus', 'cvvNumber', 'NOT_VALIDATED').bootstrapValidator('validateField', 'cvvNumber');
  }
});
$('[name=frequentGuestNumber]').on('blur', function() { $(this).val($(this).val().trim()); });
$('[name=phone]').on('blur', function() { $(this).val($(this).val().trim()); });
$('[name=mobilePhone]').on('blur', function() { $(this).val($(this).val().trim()); });
$('[name=ccFullname]').on('blur', function() { $(this).val($(this).val().trim()); });

$('[name=zipcode]').on('input keyup change', function() {
  var field = $('[name=zipcode]');
  $('#checkoutForm').data('bootstrapValidator').resetField('zipcode', false);
  var val = field.val().trim();
  field.val(val);
  country = $('[name="countrySelectBox"]').val();
  if (((val.length > 4) && (country == 'US')) || ((val.length > 5) && (country !== 'US'))) {
    if ($('#checkoutForm').data('bootstrapValidator').validateField('zipcode').isValidField('zipcode')) {

    }
    else {
      $('[name=cityStateAuto]').val('');
    }
  }
  else {
    $('#checkoutForm').bootstrapValidator('updateStatus', 'zipcode', 'NOT_VALIDATED');
  }
});

$('[name=ccMonth]').on('keypress change', function() {
  var year = $('[name=ccYear]');
  if (year.val() != '') {
    $('#checkoutForm').bootstrapValidator('updateStatus', 'ccYear', 'NOT_VALIDATED').bootstrapValidator('validateField', 'ccYear');
  }
});

var fields = ['fullname1', 'firstname1', 'lastname1', 'frequentGuestNumber', 'phone', 'email', 'email2', 'ccFullname', 'address1', 'zipcode', 'ccNumber', 'cvvNumber'];
for (f in fields) {
  $('[name=' + fields[f] + ']').on('input keyup change paste', function(e) {
    var me = $(this);
    setTimeout(function() {
      var oldVal = me.data('oldVal') || '';
      var newVal = me.val();
      if (((newVal.length - oldVal.length) > 2) || (e.type == 'paste')) {
        $('#checkoutForm').data('bootstrapValidator').resetField(me);
        $('#checkoutForm').data('bootstrapValidator').validateField(me);
      }
      me.data('oldVal', newVal);
    }, 50);
  });
}

$('[name=ccNumber]').on('keypress', function(e) { if (e.which == 32) return false });

$('[name="ccNumber"]').on('input change blur keyup paste', function(e) {
  var me = $(this);
  setTimeout(function() {
    var ccNum = me.val();
    var ccType = detectCardType(ccNum);
    var currentType = me.prop('ccClass');
    if (ccType !== currentType) {
      me.prop('ccClass', ccType);
      if (currentType) me.removeClass(currentType);
      me.addClass(ccType);
      
        if (ccType == 'voucher' && !$("#paymentMethodTab_voucher").hasClass("selected")) {
          $("#paymentMethodTab_voucher").trigger("click");
        } else if (ccType != 'voucher' && !$("#paymentMethodTab_cc").hasClass("selected")) {
          $("#paymentMethodTab_cc").trigger("click");
        }
      
    }
    var ccTypeField = $('[name=ccType]');
    if (ccType == 'visa') {
      ccTypeField.val('VI');
    }
    else if (ccType == 'discover') {
      ccTypeField.val('DS');
    }
    else if (ccType == 'mastercard') {
      ccTypeField.val('CA');
    }
    else if (ccType == 'american_express') {
      ccTypeField.val('AX');
    }
    else if ((ccType == 'diners_club_carte_blanche') || (ccType == 'diners_club_international')) {
      ccTypeField.val('DC');
    }
    else if (ccType == 'jcb') {
      ccTypeField.val('JC');
    }
    else if (ccType == 'visa_electron') {
      ccTypeField.val('E');
    }
    else if (ccType == 'maestro') {
      ccTypeField.val('TO');
    }

   var name = '.ccTypeField.' +  ccTypeField.val() + '_only';
      $('.ccTypeField').hide();
      $(name).show();

    if ((ccType == '') && (ccNum.length >= 7)) {
      $('#ccTypeGroup').fadeIn();
      ccTypeField.val('');
    }
    else {
      $('#ccTypeGroup').fadeOut();
    }
  }, 50);
});



$('[name="ccNumber"]').on('keydown', function(e) {

  if (e.ctrlKey) return;

  // Allow: backspace, delete, tab, escape, hyphen, space, enter and .
  if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190, 32, 109]) !== -1 ||
     // Allow: Ctrl+A
    (e.keyCode == 65 && e.ctrlKey === true) ||
     // Allow: home, end, left, right
    (e.keyCode >= 35 && e.keyCode <= 39)) {
       // let it happen, don't do anything
       return;
  }
  // Ensure that it is a number and stop the keypress
  if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
    try { e.preventDefault() } catch(e) { e.returnValue = false };
  }
});

 var storedCreditCardChanged = function() {

     var country = $('[name=countrySelectBox]');
     var zipcode = $('[name=zipcode]');
     var cardID = $(this).val();
     if (cardID == '') {
          $('.hideforstored').show();
          zipcode.trigger('blur');
          country.trigger('change');
         return;
     }

     var card = storedCards[cardID];

     var ccFullname = $('[name=ccFullname]');
     if (ccFullname.val() == '') ccFullname.val(card.ccFullname).trigger('change');

     var address1 = $('[name=address1]');
     if (address1.val() == '') address1.val(card.address1).trigger('change');

     if (card.countryCode !== '') country.val(card.countryCode).trigger('change');

     var state = $('[name=usStateSelectBox]');
     state.val(card.postalCode == '' ? card.state : '').trigger('change');

     var city = $('[name=city]');
     city.val(card.postalCode == '' ? card.city : '').trigger('change');
     zipcode.val(card.postalCode).trigger('blur');

     $('.hideforstored').hide();

 };

 $('[name=storedCreditCard]').on('change', storedCreditCardChanged);

$('[name=email]').on('focusout', function() {
  $(this).val($(this).val().trim());
  $('#checkoutForm').bootstrapValidator('validateField', 'email');
});

$('[name=email2]').on('blur', function() {
  $(this).val($(this).val().trim());
  if ($(this).val() == '') {
    $('#checkoutForm').data('bootstrapValidator').resetField('email2', false);
    setTimeout(function() {
      $('#addEmailLink').trigger('click');
    }, 500);
  }
});

$('[name=specialRequests]').on('blur', function() {
  $(this).val($(this).val().trim());
  if ($(this).val() == '') {
    setTimeout(function() {
      $('#specialRequestsLink').trigger('click');
    }, 500);
  }
});

$('#Attachment1').on('change', function(e) {
    e.stopPropagation();
    e.preventDefault();
    var val = $('#Attachment1').val().toLowerCase();
    if ((val.toLowerCase().indexOf('.doc') == -1) && (val.toLowerCase().indexOf('.pdf') == -1)) {
        $('#Attachment1').val("");
        $('[name=Attachment1Filename]').val("");
        alert('Travel Approval Documents must be a Word Document or PDF.');
        return false;
    }
    else {
        $('[name=Attachment1Filename]').val(val);
        return true;
    }
});

$('#callme-link').off().on('click', function(e) {
    e.preventDefault();
    e.stopPropagation();
    $('#callme-link').addClass('hidden');
    $('#smscode-textme-row').addClass('hidden');
    $('#callme-row').removeClass('hidden');
});

$('#callme-btn').off().on('click', function(e) {
    e.preventDefault();
    e.stopPropagation();
    res = { success: true };
    $.ajax('/com/hotelplanner/controller/PhoneVerificationController.cfc?method=makeVerificationCall&disallowAgentNumbers=true&aky=6676FF992CFE0D3FF46C92E79F4BF07B&' + $.param({ toNumber: $('[name=phone_disp]').val() }), { dataType: 'json' }).done(function (res) {
        if (res.hasOwnProperty('success') && res.success) {
            $('#smsSent').hide();
            $('#callme-btn').addClass('hidden');
            $('#smscode-textme-row').addClass('hidden');
            $('#smscode-input-row').removeClass('hidden');
        }
        else {
            if (res.hasOwnProperty('message') && res.message != '') {
                alert(res.message);
            }
            else {
                alert('An error occurred while processing your transaction');
            }
        }
    });
});

$('#sms-changenumber-link').on('click', function(e) {
    e.preventDefault();
    e.stopPropagation();
    $('#phoneModal').addClass('hidden');
    $('#smscode-textme-row').removeClass('hidden');
    $('#smscode-input-row').addClass('hidden');
    $('#smscode-submit-row').addClass('hidden');
    $('#callme-link').removeClass('hidden');
    $('#callme-row').addClass('hidden');
    $('[name=smsCode]').val('');
    $('[name=phone_disp]').focus();
});

$('#send-smscode-btn').on('click', function(e) {
    e.preventDefault();
    e.stopPropagation();

    checkoutParams.smsStatus = 'unknown';
    refreshSmsStatusText();

    

    $.ajax('/com/hotelplanner/controller/PhoneVerificationController.cfc?method=sendSmsCode&disallowAgentNumbers=true&aky=6676FF992CFE0D3FF46C92E79F4BF07B&' + $.param({ toNumber: $('[name=phone_disp]').val() }), { dataType: 'json' }).done(function (res) {
        if (res.hasOwnProperty('success') && res.success) {
            $('#smscode-textme-row').addClass('hidden');
            $('#smscode-input-row').removeClass('hidden');
            if (res.hasOwnProperty('sid')) {
                // poll for status change
                checkoutParams.smsSid = res.sid;
                pollSmsStatus();
            }
        }
        else {
            if (res.hasOwnProperty('message') && res.message != '') {
                alert(res.message);
            }
            else {
                alert('An error occurred while processing your transaction');
            }
        }
    });
});

$('[name=smsCode]').on('change keyup', function(e) {
    if ($(this).val().length == 4) {
        $('#smscode-submit-row').removeClass('hidden');
    }
    else {
        $('#smscode-submit-row').addClass('hidden');
    }
});

$('#submit-smscode-btn').on('click', function(e) {
    e.preventDefault();
    e.stopPropagation();

    

    $.ajax('/com/hotelplanner/controller/PhoneVerificationController.cfc?method=verifySmsCode&aky=6676FF992CFE0D3FF46C92E79F4BF07B&recordTraffic=true&' + $.param({ smsCode: $('[name=smsCode]').val() }) + '&' + $.param({ phone: $('[name=phone_disp]').val() }), { dataType: 'json' }).done(function (res) {
        if (res.hasOwnProperty('success') && res.success) {
            $('#phoneModal').addClass('hidden');
            checkoutParams.verified = true;
            $('#checkoutForm').submit();
        }
        else {
            $('.authfailed').removeClass('hidden');
        }
    });
});



    $('#dontKnowAdmin').popover({
      title: 'Don\'t know who your agency administrator is?',
      content: 'Please contact your manager to find out who can approve your hotel reservations.'
    });

  
  

window.onerror = function(msg, url, ln) {

    if (!msg.hasOwnProperty('isTrigger')) {

        var msg2 = JSON.stringify2(msg);

        //report errors
        window.onerror = function(){};
        (new Image()).src = "/ErrorPixel.htm?ErrType=JS&Diag=" + encodeURIComponent(msg2) + "&url=" + encodeURIComponent(url || document.location.toString().replace(/#.*$/, "")) + "&line=" + parseInt(ln || 0);

    }

};

window.onerror = function (errorMsg, url, lineNumber, column, error) {
  if (errorMsg.hasOwnProperty('isTrigger')) {
    return;
  }
  $.post("/Search/json/logjserror.htm", {
    msg: (error && error.hasOwnProperty('stack') && (typeof(error) !== 'undefined')) ? error.stack : errorMsg,
    sourceClass: 'Checkout: global error handler',
    sourceMethod: url,
    lineNumber: linenumber,
    column: column,
    errorType: errorMsg,
    error: error,
    emailAlert: 1
  });
}



$('#rejectForm')
  .bootstrapValidator({
    feedbackIcons: {
      valid: 'glyphicon glyphicon-ok',
      invalid: 'glyphicon glyphicon-remove',
      validating: 'glyphicon glyphicon-refresh'
    },
    fields: {
      /*
      Reason: {
        trigger: 'blur keyup',
        validators: {
          notEmpty: {
            message: 'This field is required'
          }
        },
        onSuccess: function(e, data) {
          data.element.parent().children().removeClass('glyphicon-ok');
        },
        onError: function(e, data) {
          data.element.parent().children().removeClass('glyphicon-remove');
        }
      }
      */
    },
    onSuccess: function(e) {
      try { e.preventDefault() } catch(e) { e.returnValue = false };
      if (typeof isBusy == 'undefined') isBusy = false;
      if (isBusy) {
        return;
      }
      else {
        isBusy = true;
      }
      $.post('/TT.htm?Type=3&PageURL=&Notes=Reject Approval Success', function(res) {
      });
      $('#btnRejectSubmit').button('loading');
      var f = $('#rejectForm');
      $.post('/common/cfcs/services/checkout/controller.cfc?method=reject', f.serialize(), function(res) {
        location.reload(true);
      }, 'json');
    },
    onError: function(e, data) {
      $.post('/TT.htm?Type=4&PageURL=&Notes=Reject Approval Fail', function(res) {
      });
      setTimeout(function() {
        $('#rejectForm').data('bootstrapValidator').disableSubmitButtons(false);
      }, 100);
    }
  });

    

    setTimeout(function() {
        $('[name=countrySelectBox]').trigger('change');
    }, 100);

    setTimeout(function() {
        if ( $('[name=storedCreditCard]').val() != '' ){ $('[name=storedCreditCard]').trigger('change') }
    }, 500);

    
    initAddressAutoComplete();
    
});

function validateCreditCardExp(validator) {
var month		= validator.getFieldElements('ccMonth').val();
var year		 = validator.getFieldElements('ccYear').val(),
    currentMonth = new Date().getMonth() + 1,
    currentYear  = new Date().getFullYear();
month = parseInt(month, 10);
year = parseInt(year, 10);
if (!month) {
  return false;
}
else if (year > currentYear || (year == currentYear && month >= currentMonth)) {
    validator.updateStatus('ccYear', 'VALID');
    return true;
}
else {
    return false;
}
}

function validateVoucher() {
if (typeof validateVoucherInterval == 'undefined') validateVoucherInterval = '';
clearInterval(validateVoucherInterval);
validateVoucherInterval = setInterval(function() {
  validateVoucherInterval = clearInterval(validateVoucherInterval);
  var ccNumber = $('[name=ccNumber]').val();
  var ccType = detectCardType(ccNumber);
  var chargeableRoomRateTaxesAndFees = 134.03;
  var form = $('#checkoutForm');
  if (ccType == 'voucher') {
    var ccMonth = $('[name=ccMonth]').val();
    var ccYear = $('[name=ccYear]').val();
    var vendor = $('[name=vendor]').val();
    var postPay = $('[name=postPay]').val() || 0;
    if (ccMonth && ccYear) {
      $.post('/common/cfcs/services/checkout/controller.cfc?method=checkVoucher', {
        CreditCardNumber: ccNumber,
        CreditCardExpirationMonth: ccMonth,
        CreditCardExpirationYear: ccYear,
        Vendor: vendor,
        postPay: postPay
      }, function(res) {
        $('#voucherSuccessMessage').hide();
        $('#voucherErrorMessage').hide();
        if (!res.valid) {
          form.bootstrapValidator('updateStatus', 'ccNumber', 'INVALID', 'callback');
          form.bootstrapValidator('updateMessage', 'ccNumber', 'callback', '');
          $('#voucherErrorMessage').html(res.message).show();
        }
        /*else if (false && parseFloat(res.amount) < chargeableRoomRateTaxesAndFees) {
          form.bootstrapValidator('updateStatus', 'ccNumber', 'INVALID', 'callback');
          form.bootstrapValidator('updateMessage', 'ccNumber', 'callback', '');
          $('#voucherErrorMessage').html('Sorry but this booking does not qualify to be booked by your voucher').show();
        }*/
        else {
          $('#voucherSuccessMessage').html(res.message).show();
        }
      }, 'json');
    }
  }
}, 10);
}



function updateDept() {
if (checkoutParams.standardApproval) {
var departmentId = $('#Department2 :selected').val() || $('#Department :selected').val() || $('#Department').val() || 0;
//if (departmentId > 0) updateApproval(departmentId);
updateApproval(departmentId);
}
}

function updateApproval(id) {
if (checkoutParams.standardApproval) {

$.get('/common/cfcs/services/checkout/controller.cfc?method=getDeptApproval&did=' + id + '&forceApproval=' + checkoutParams.forceApproval + '&PayOnOwn=1&ShowCompCard=' + checkoutParams.showCompCard + '&IsAdmin=0', function(data) {
  $('#Approvals').html(data);
  updatePayFields();
});



$.post('/common/cfcs/services/checkout/controller.cfc?method=checkMaxRate', { 'department': id, 'rate': '103.99' }, function(res) {
  if (res.success) {
    $('#maxRateFormGroup').hide();
  }
  else {
    $('#maxRateAlert').html(res.message);
    $('#maxRateFormGroup').show();
    setTimeout(function() {
      $('#PayOnOwn0').prop('disabled', 'disabled');
      $('#PayOnOwn1').trigger('click');
    }, 500);
  }
}, 'json');

}
}

function updatePayFields () {

var theval = $('input[name=PayOnOwn]:checked').val();
var btn = $('#btnCheckoutSubmit');
var btnHtml = '';

var paymentInfoHidden = 1;
var newApproverHidden = 1;

if (theval == 0) {
btnHtml += 'Request Confirmation From My Administrator';
}
else if (theval == -1) {
btnHtml += 'Request Confirmation From My Administrator';
}
else if (theval == 2) {
btnHtml += 'Request Confirmation From My Administrator';
newApproverHidden = 0;
}
else if (theval == 3) {
btnHtml += 'Confirm this booking with our direct bill account';
}
else if (theval == 4) {
btnHtml += 'Confirm this booking with stored company card';
}
else {
btnHtml += 'Complete Booking';
paymentInfoHidden = 0;
}



  if (paymentInfoHidden) {
    hidePaymentInfo();
  }
  else {
    showPaymentInfo();
  }

  if (newApproverHidden) {
    hideNewApproverInfo();
  }
  else {
    showNewApproverInfo();
  }


btn.html(btnHtml);

}

function updateTiers(parent) {
$.get('/common/cfcs/services/checkout/controller.cfc?method=getDept&Parent=' + parent + '&DefaultVal=0'+ '&onchange=1', function(data) {
$('#DeptTier2').html(data);
if ($('#Department2').children('option').length) {
  $('#subdivisionGroup').show();
}
else {
  $('#subdivisionGroup').hide();
}
updateDept();
});
}


$(document).ready(function () {
if (checkoutParams.standardApproval) {
  var did = $('#Department :selected').val() || 0;
  updateTiers(did);
}
});


function hidePaymentInfo() {
$('#paymentInfoGroups').hide();
$('#readTerms2Group').hide();
}

function showPaymentInfo() {
$('#paymentInfoGroups').show();
$('#readTerms2Group').show();
}

function hideNewApproverInfo() {
$('#newApproverInfoGroups').hide();
}

function showNewApproverInfo() {
$('#newApproverInfoGroups').show();
}

function formError() {

if (typeof formErrorInterval == 'undefined') formErrorInterval = '';
clearInterval(formErrorInterval);
formErrorInterval = setInterval(function() {
  formErrorInterval = clearInterval(formErrorInterval);

  formErrorReport.count += 1;
  var invalidFields = $('#checkoutForm').data('bootstrapValidator').getInvalidFields();
  var fields = [];

  for (f = 0; f < invalidFields.length; f++) {
    fields.push(invalidFields[f].name);
  }

  var data = {
    messages: $('#checkoutForm').data('bootstrapValidator').getMessages(),
    fields: fields,
    form: $('#checkoutForm').serializeArray()
  };

  formErrorReport.data.push(data);

  if (formErrorReport.count > formErrorReport.threshold) {
    $.post('/TT.htm?Type=4&PageURL=&Notes=', { data: JSON.stringify(formErrorReport.data) }, function(res) {

    });
  }
}, 2000);

}


$(document).ready(function() {
$('#cancellation-policy').readmore({
    speed: 75,
    collapsedHeight: 100,
    moreLink: '<div class="form-group disclaimer morelink4cancel"><div class="col-lg-8 col-lg-offset-4 col-md-8 col-md-offset-4 col-sm-12 col-xs-12"><a href="#">Read more</a><p class="clear"></p></div></div>',
    lessLink: '<div class="form-group disclaimer morelink4cancel"><div class="col-lg-8 col-lg-offset-4 col-md-8 col-md-offset-4 col-sm-12 col-xs-12"><a href="#">Read less</a><p class="clear"></p></div></div>',
    afterToggle: function(trigger, element, expanded) {
        if (expanded) {
            $(element).css('height', '');
        }
    }
});

$('#taxesAndFeesPolicy').readmore({
    speed: 75,
    collapsedHeight: 100,
    moreLink: '<p class="disclaimer morelink4taxes"><a href="#">Read more</a></p>',
    lessLink: '<p class="disclaimer morelink4taxes"><a href="#">Read less</a></p>',
    afterToggle: function(trigger, element, expanded) {
        if (expanded) {
            $(element).css('height', '');
        }
    }
});

$('#checkin-instructions').readmore({
    speed: 75,
    collapsedHeight: 100,
    afterToggle: function(trigger, element, expanded) {
        if (expanded) {
            $(element).css('height', '');
        }
    }
});
});

var addressAutocompleteData = {};

function parseGoogleMapAddress(place) {
var res = {
    address1: '',
    city: '',
    state: '',
    zip: '',
    country: ''
};
if (place.hasOwnProperty('address_components')) {
    try {
        var address = '';
        if (place.address_components) {
            address = [
                (place.address_components[0] && place.address_components[0].short_name || ''),
                (place.address_components[1] && place.address_components[1].short_name || '')
            ].join(' ');
        }
        res.address1 = address;
        for (var i = 0, len = place.address_components.length; i < len; i++) {
            var item = place.address_components[i];
            var type = item.types.toString();
            if (type == 'country,political') {
                res.country = item.short_name;
            }
            else if (type == 'postal_code') {
                res.zip = item.short_name;
            }
            else if (type == 'postal_code_prefix,postal_code') {
                res.zip = item.short_name;
            }
            else if (type == 'locality,political') {
                res.city = item.long_name;
            }
            else if (type == 'postal_town') {
                res.city = item.long_name;
            }
            else if (type == 'administrative_area_level_1,political') {
                res.state = item.short_name;
            }
        }
    }
    catch (e) {
        console.log(e);
    }
}
addressAutocompleteData.place = place;
addressAutocompleteData.res = res;
return res;
}

function initAddressAutoComplete() {
var input = document.getElementsByName('address1')[0];
var autocomplete = new google.maps.places.Autocomplete(input);
autocomplete.setFields(['address_components']);
autocomplete.setTypes(['address']);
autocomplete.addListener('place_changed', function() {
    var place = autocomplete.getPlace();
    //google.maps.event.clearInstanceListeners(input);
    var data = parseGoogleMapAddress(place);
    if (data.address1 != '') {
        input.value = data.address1;
    }
    if (data.country != '') {
        $('[name=countrySelectBox]').val(data.country).trigger('change');
        if (data.country == 'US') {
            $('[name=usStateSelectBox]').val(data.state).trigger('change');
        }
        else if (data.country == 'CA') {
            $('[name=canadaProvinceSelectBox]').val(data.state).trigger('change');
        }
        else if (data.country == 'AU') {
            $('[name=australiaStateSelectBox]').val(data.state).trigger('change');
        }
    }
    if (data.city != '') {
        $('[name=city]').val(data.city).trigger('change');
    }
    if (data.zip != '') {
        $('[name=zipcode]').val(data.zip).trigger('change');
    }
});
/*
$('[name=address1]').on('blur', function() {
    setTimeout(function() {
        google.maps.event.clearInstanceListeners(input);
        addressAutocompleteData.address1 = input.value;
        $.post('/common/cfcs/services/checkout/controller.cfc?method=autoCompleteLog', { data: JSON.stringify(addressAutocompleteData) }, function(res) {});
    }, 500);
});
*/
}

var phoneVerificationShown = false;
function showSmsCodeModal() {

isBusy = false;
isBusyGlbl = false;
$('.checkoutSubmit').button('reset');
$('#sms-phone-disp').html($('[name=phone_disp]').val());
$('#phoneModal').removeClass('hidden');
$('#smscode-textme-row').removeClass('hidden');
$('#smscode-input-row').addClass('hidden');
$('#smscode-submit-row').addClass('hidden');
$('.authfailed').addClass('hidden');
if (!phoneVerificationShown) {
    phoneVerificationShown = true;
    $.ajax('/common/cfcs/services/checkout/controller.cfc?method=phoneVerificationShown');
}
}

function scrollToError(){
var el = this.nextElementSibling;
if(el){
    el.scrollIntoView({behavior: 'smooth', block: 'end'});
}
else{
    this.scrollIntoView({behavior: 'smooth', block: 'end'});
}
}

var pollSmsInterval = 0;
function pollSmsStatus() {
$('#smsStatusWrapper').remove();
$('<div id="smsStatusWrapper"><p>SMS Delivery Status: <span id="smsStatus"></span></div>').insertAfter('#smscode-textme-row');
pollSmsInterval = setInterval(getSmsStatus, 1000);
}

function getSmsStatus() {
$.ajax('/com/hotelplanner/controller/PhoneVerificationController.cfc?method=getDeliveryStatus&aky=6676FF992CFE0D3FF46C92E79F4BF07B&' + $.param({ sid: checkoutParams.smsSid }), { dataType: 'json' }).done(function (res) {
    if (res.hasOwnProperty('status')) {
        checkoutParams.smsStatus = res.status;
        refreshSmsStatusText();
        if (checkoutParams.smsStatus == 'delivered') clearInterval(pollSmsInterval);
    }
});
}

function refreshSmsStatusText() {
style = '';
if (checkoutParams.smsStatus == 'delivered')
    style = 'color:green';


    $('#smsStatus').html('<span style="' + style + '">' + checkoutParams.smsStatus + '</span>');


}


function getSoldOutURL(iframe) {

var returnPage = $( '[name=returnPage]' ).val(),
            vendor = $( '[name=vendor]' ).val(),
        rateCode = $( '[name=rateCode]' ).val(),
    roomTypeDescription = $( '[name=roomTypeDescription]' ).val();

returnPage = returnPage.replace('#Ext-Search-Form', '');
returnPage = returnPage + '&ShowRoomSoldOut=1&ShowSavedInfoMessage=1&' + $.param({ vendor: vendor, rateCode: rateCode, roomTypeDescription: roomTypeDescription });

if( iframe == true )
    returnPage = returnPage + '&displayRatesOnly=1';



if( iframe == false )
    returnPage = returnPage + '#Rates-Selection';

return returnPage;

}


function soldoutRatesModal() {

$('#rateCheckerFrame iframe').attr('src', getSoldOutURL(true) );
$('#rateCheckerFrame').show();
}

function read_cookie(key)
{
var result;
return (result = new RegExp('(?:^|; )' + encodeURIComponent(key) + '=([^;]*)').exec(document.cookie)) ? (result[1]) : null;
}

</script>

<script src="//cdn.hotelplanner.com/Common/Javascript/readmore.js"></script> <link href='//cdn.hotelplanner.com/Common/CSS/IntlPhone/styles.min.css?v=1.0.2' type='text/css' rel='stylesheet'><script src="//cdn.hotelplanner.com/Common/Javascript/IntlPhone/IntlPhone.js?v=1.0.4"></script> <script>setInterval(function(){$.ajax({url: '/lastactive.htm'});}, 300000);</script> 
</head>

<body id="pg_CheckOut" class="site4892 en_US countryUS USD src_Wholesale en TestGroupA st_ March Desktop shorthead"> 

<header class="individual-travel header-wl" >
       
<div class="container-wl">
    <a id="logo-wl" href="/"><div id="logo"><img src="//cdn.hotelplanner.com/common/images/site/4892/TravelSherlockLogo.png"></div></a>
    <ul id="navigation-wl">
        <li id="message-wl">Country/Currency:</li>
        
          <li>
    <a href="javascript:currencyModal()" id="show-currency" rel="nofollow">$</a>
</li>
      
        <li><a href="javascript:countryModal()" id="flag-e" rel="nofollow"><span class="sprite-flags sprite-flags-us"></span></a> </li>
      
    </ul>
    <div class="clear"></div>
</div>

</header>

<div id="MainContent">
<div id="ContentInner"> 

<main>

<div id="CheckoutContent" class="container-co-v2 VVDEV">

    
<div id="top-section">
<h1>Secure booking - it only takes 1 minute</h1>

</div>

    <div class="featuresList">
        <div class="green-feature hide-package">
            <i class="fas fa-check"></i>Jackpot! This is todays low rate.
        </div>
        
    </div>


<div id="col2">

        <div id="hotel-header">
        
            <figure>
                
                    <img src="//hotelmedia.s3.amazonaws.com/720/480/8e4f03f5f46a7643851801da15cbe38ac0ad8b98" alt="hotel image">
                
                    <div class="hotel-logo">
                        <img src="//cdn.hotelplanner.com/Common/Images/Chains/Brands/de.gif" alt="Brand logo for Delta Hotels by Marriott Dallas Southlake" />
                    </div>
                
            </figure>
            
            <p id="hotel-address-section">
                <div id="summaryHN">
                Delta Hotels by Marriott Dallas Southlake 
                </div>

                <div id="hotel-address1" class="addressWrapper">251 EAST STATE HWY 114</div>
                <div id="hotel-addressLine2" class="addressWrapper"><span id="hotel-city">Southlake,</span> <span id="hotel-state">TX</span> <span id="hotel-zip">76092</span> <span id="hotel-country">US</span></div>
               
               
            </p>
            
        </div>

        <div id="hotel-dates" class="info-group">
            
                <span>Arrival: Fri, March 03, 2023</span>
                <span>Departure: Sat, March 04, 2023</span>
            
                   <a href="//wholesale.travelsherlock.com/Hotel/HotelRoomTypes.htm?HotelID=6407378&idtype=Universal&gid=0&checkin=03%2F03%2F2023&checkout=03%2F04%2F2023&numRooms=1&numAdults=2&numChildren=0&indate=03%2F03%2F2023&outdate=03%2F04%2F2023#Ext-Search-Form">Change</a>
               
            <div class="clear"></div>
        </div>

        <div id="hotel-rooms" class="info-group">
            <ul>
                <li><b>Guests and Rooms</b></li>
                <li>1 Room, 1 Night</li>
                <li>
                    Adults 2&nbsp;&nbsp;<span id="lblNumChildren">Children 0</span> 
                </li>
            </ul>

            

            <ul class="last">

                

                    <li><b>Room and Rate/Night</b></li>
                    <li>2 Queen Beds</li>
                    

            </ul>
            
                <ul id="nightly-rates" style="" >
                    <li><b>Nightly rates</b></li>
                    
                            <li><span class="nightly-breakdown">03/03/2023&nbsp;&nbsp;$103.99</span></li>
                            
                </ul>
            
        </div>

        

        

                <div id="hotel-fees" class="info-group">

                

                    <ul>

                    

                    </ul>

                

                    <ul>

                    
                        <li class="trfees">
                            Tax Recovery and Fees:&nbsp;$41.79 USD 
                        </li>
                    

                    </ul>

                    
                        <div id="insuranceSummary"></div>
                    

                    </div>

                    <div id="total-price" class="info-group">
                    <ul id="total">

                        <li>Total for 1 Room:</li>

                        
                        
                        <li class="last" id="totalPriceValue" data-original="$134.03 USD">$134.03 USD</li>

                        <div id="discountSummary"></div>
                    </ul>

                    
                        <p class="affirm-as-low-as" data-page-type="cart" data-amount="13403" style="font-size: 115%;"></p>
                    

                <button type="submit" class="checkoutSubmit" data-loading-text="<i class='fa fa-spinner fa-spin'></i> Processing your request" 
data-acsrequest-text="<i class='fa fa-spinner fa-spin'></i> Authentication Required" data-acsconfirm-text="<i class='fa fa-spinner fa-spin'></i> Confirming Authentication" data-reserving-text="<i class='fa fa-spinner fa-spin'></i>Connected to Hotel Reservation System" data-processing-text="<i class='fa fa-spinner fa-spin'></i> Processing Reservation" data-paylater-text="Complete with Affirm"
id="btnCheckoutSubmit2">Complete Booking</button>

                

                </div>

            

        <div id="book">
            <b><i class="fas fa-check-circle"></i> Book with Confidence</b>
            <ul>
                <li>Secure payment</li>
                     <li>Instant confirmation</li>
                     
                     <li>24/7 Customer Support</li>
            </ul>
        </div>
        
        
                <small id="mandatoryFees" class="disclaimer">
                  
                  </small>
            
        
         

        <small id="paid-now">

          <span class="disclaimer">
            Paid Now :: To secure your reservation, your credit card will be charged immediately for the total amount of your reservation. This secures the low price and ensures you have a room when you arrive. 
          </span>

        

        </small>
        
        
        
        


    </div>


<div id="col1">

        

        <form id="checkoutForm">

            

            <div id="DeptTier2"></div>

            <div id="Approvals"></div>

            <div class="form-group" id="maxRateFormGroup" style="display:none;">
                <div class="alert alert-danger" role="alert" id="maxRateAlert"></div>
            </div>
            
            
            
                    <input type="hidden" name="priceChangeToken" value="AcThOyFDftR9naMGy6qa">

                    

                        <div class="form-group" id="rateChangeAlertFormGroup">
                            
                                <div id="rateChangeAlert" class="alert alert-success" role="alert">
                            Good news! The rates just changed and your total has decreased from $141.78  to $134.03 
                            
                            </div>
                            
                        </div>
                        
                    
            

            <span id="addBillingToApprovalOverrideGroup" class="default-to-hidden">
                <div>
                    <a href="#" id="showBillingInfoForApprovalLink" style="display:none;"><i class="fa fa-plus-square-o"></i> Show Billing Details</a>
                </div>
                <div>
                    <a href="#" id="hideBillingInfoForApprovalLink"><i class="fa fa-plus-square-o"></i> Hide Billing Details</a>
                </div>
                <div>
                    <hr />
                </div>
            </span>

            <span id="newApproverInfoGroups" style="display:none;">

                <div class="form-group">
                    <label class="control-label">
                        Administrator Name
                        <span class="hidden-sm hidden-xs"><br/></span>
                        <a id="dontKnowAdmin" tabindex="0" data-toggle="popover" data-trigger="focus">(don't know?)</a>
                    </label>
                    <div>
                        <input type="text" class="form-control" name="NewApproverName" maxlength="50" value="" />
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label">Administrator Email</label>
                    <div>
                        <input type="text" class="form-control" name="NewApproverEmail" maxlength="100" value="" />
                    </div>
                </div>

            </span>
            
            

            <div id="guest-info" class="section">

                <span class="f-heading">Guest Details</span>

                

                    <div id="room1Group" class="form-group">
                        <label class="control-label">Guest Name</label>
                        <div>
                            <input type="text" class="form-control nameside" name="fullname1" autocomplete="name" placeholder="Full name of one of the people in the room" value="" />
                        </div>
                        
                    </div>

                    
                    
                    <input type="hidden" name="bedType1" value="">
                
                <div class="form-group">
                   <a href="#" id="frequentGuestLink" class="frequentGuestLink"><i class="fa fa-plus"></i> Marriott Bonvoy&reg; #</a>
                   <input type="text" class="form-control frequentGuestNumber" name="frequentGuestNumber" maxlength="25" placeholder="Rewards number (optional for the hotel to honor)" value="" />
                </div>
                

                <div class="form-group form-control-container">
                    <label class="control-label">Phone 
                    </label>
                    <input type="tel" class="form-control primary-phone" name="phone" autocomplete="tel" maxlength="30" value="" placeholder="In case we need to call you" />
                </div>

                <div class="form-group form-control-container">
                    <label class="control-label">Email</label>
                    
                    

                    <input type="text" class="form-control" name="email" autocomplete="email" value="" placeholder="Email" />
                    <div id="emailwarning"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> We detected there may be a typo in the email above, please double check</div>
                </div>

                
                <div class="guest-options">
                    <a href="#" id="addEmailLink"><i class="fa fa-plus"></i> Add another email</a>
                </div>

                <div id="secondEmailGroup" class="default-to-hidden">
                    <div class="form-group form-control-container">
                       <input type="text" class="form-control" name="email2" value="" placeholder="Optional, send another confirmation email" />
                    </div>
                </div>
                

                <div>
                    <hr />
                </div>

                <div class="guest-options">
                    <div class="special-requests"><a href="#" id="specialRequestsLink"><i class="fa fa-plus"></i> Any special requests or accessibility needs?</a></div>
                </div>

                

                <div class="guest-options">

                <div id="specialRequestsGroup" class="default-to-hidden">
                    <div class="form-group">
                        <label class="control-label">Special Requests</label>
                       <textarea class="form-control" name="specialRequests" placeholder="Please describe any special requests (e.g. late check-in, non ground-floor, etc.). Your special request will be passed along to the property reservations manager, but such requests are not guaranteed and may not be available in the room type and room rate requested."></textarea>
                    </div>
                </div>

                    <label id="text-confirmation" class="checkbox" for="checkbox-textme">
                        <input type="checkbox" id="checkbox-textme" class="" name="textMe" form="text-confirmation">
                        <i class="far fa-square"></i>
                        Text me a copy of the confirmation
                    </label>

                    <div class="form-group form-control-container default-to-hidden" id="mobilePhoneGroup">
                       <input type="tel" class="form-control" name="mobilePhone" placeholder="Number we should send the text message" value="" />
                       <p class="datarates">Standard data and SMS rates may apply</p>
                    </div>

                </div>


            </div>

            
            

                <input type="hidden" name="paymentMethod" id="paymentMethod" value="cc">
                
                    <div id="paymentMethodTabs" class="section display4cols hideforstored">
                        <span class="f-heading">Pay With</span>

                        
                            <div class="paymentMethodTab selected" id="paymentMethodTab_cc" data-paymentmethod="cc" data-insurable="true">
                                <i class="fad fa-credit-card fa-lg fa-fw"></i>
                                <span class="tabLabel">Credit/Debit</span>
                            </div>
                        
                            <div class="paymentMethodTab " style="display: none;" id="paymentMethodTab_googlePay" data-paymentmethod="googlePay" data-insurable="false">
                                <i class="fab fa-google fa-lg fa-fw"></i>
                                <span class="tabLabel">Google Pay</span>
                            </div>
                        
                            <div class="paymentMethodTab " id="paymentMethodTab_payLater" data-paymentmethod="payLater" data-insurable="true">
                                <span class="__affirm-logo __affirm-logo-blue __ligature__affirm_short_logo__ __processed" style="font-size: 110%; line-height: 90%; padding-right: 2px;">affirm</span>
                                <span class="tabLabel">Installments</span>
                            </div>
                        
                            <div class="paymentMethodTab " id="paymentMethodTab_voucher" data-paymentmethod="voucher" data-insurable="false">
                                <i class="fad fa-ticket-alt fa-lg fa-fw"></i>
                                <span class="tabLabel">Voucher</span>
                            </div>
                        
                            <div id="paymentMethodErrorMsg" class="alert alert-danger" style="display:none;"></div>
                        
                    </div>
                

                <span id="paymentInfoGroups">

                <div id="billing" class="section">

                
                <span class="f-heading">Billing Details</span>
                

                <div class="form-group form-control-container hideforstored" id="ccFullname">
                    <input type="text" class="form-control" name="ccFullname" autocomplete="cc-name" value="" placeholder="Full name on credit card" />
                </div>

                
                <div class="form-group form-control-container hideforstored" id="addressGroup">
                    <input type="text" class="form-control" name="address1" autocomplete="street-address" value="" placeholder="Street address on credit card" />
                </div>
                

                <div class="form-group hideforstored" id="countryGroup">
                    <select class="form-control" name="countrySelectBox">
                        
                            <option  value="AF">Afghanistan</option>
                            
                            <option  value="AX">Aland Islands</option>
                            
                            <option  value="AL">Albania</option>
                            
                            <option  value="DZ">Algeria</option>
                            
                            <option  value="AS">American Samoa</option>
                            
                            <option  value="AD">Andorra</option>
                            
                            <option  value="AO">Angola</option>
                            
                            <option  value="AI">Anguilla</option>
                            
                            <option  value="AQ">Antarctica</option>
                            
                            <option  value="AG">Antigua And Barbuda</option>
                            
                            <option  value="AR">Argentina</option>
                            
                            <option  value="AM">Armenia</option>
                            
                            <option  value="AW">Aruba</option>
                            
                            <option  value="AU">Australia</option>
                            
                            <option  value="AT">Austria</option>
                            
                            <option  value="AZ">Azerbaijan</option>
                            
                            <option  value="BS">Bahamas</option>
                            
                            <option  value="BH">Bahrain</option>
                            
                            <option  value="BD">Bangladesh</option>
                            
                            <option  value="BB">Barbados</option>
                            
                            <option  value="BY">Belarus</option>
                            
                            <option  value="BE">Belgium</option>
                            
                            <option  value="BZ">Belize</option>
                            
                            <option  value="BJ">Benin</option>
                            
                            <option  value="BM">Bermuda</option>
                            
                            <option  value="BT">Bhutan</option>
                            
                            <option  value="BO">Bolivia</option>
                            
                            <option  value="BQ">Bonaire</option>
                            
                            <option  value="BA">Bosnia and Herzegovinia</option>
                            
                            <option  value="BW">Botswana</option>
                            
                            <option  value="BV">Bouvet Island</option>
                            
                            <option  value="BR">Brazil</option>
                            
                            <option  value="IO">British Indian Ocean Territory</option>
                            
                            <option  value="WI">British West Indies</option>
                            
                            <option  value="BN">Brunei Darussalam</option>
                            
                            <option  value="BG">Bulgaria</option>
                            
                            <option  value="BF">Burkina Faso</option>
                            
                            <option  value="BI">Burundi</option>
                            
                            <option  value="KH">Cambodia</option>
                            
                            <option  value="CM">Cameroon</option>
                            
                            <option  value="CA">Canada</option>
                            
                            <option  value="CV">Cape Verde</option>
                            
                            <option  value="KY">Cayman Islands</option>
                            
                            <option  value="CF">Central African Republic</option>
                            
                            <option  value="TD">Chad</option>
                            
                            <option  value="CL">Chile</option>
                            
                            <option  value="CN">China</option>
                            
                            <option  value="CX">Christmas Island</option>
                            
                            <option  value="CC">Cocos Islands</option>
                            
                            <option  value="CO">Colombia</option>
                            
                            <option  value="CG">Congo</option>
                            
                            <option  value="CD">Congo, DR Of The</option>
                            
                            <option  value="CK">Cook Islands</option>
                            
                            <option  value="CR">Costa Rica</option>
                            
                            <option  value="CI">Cote D'ivoire</option>
                            
                            <option  value="HR">Croatia</option>
                            
                            <option  value="CW">Curacao</option>
                            
                            <option  value="CY">Cyprus</option>
                            
                            <option  value="CZ">Czech Republic</option>
                            
                            <option  value="DK">Denmark</option>
                            
                            <option  value="DJ">Djibouti</option>
                            
                            <option  value="DM">Dominica</option>
                            
                            <option  value="DO">Dominican Republic</option>
                            
                            <option  value="TP">East Timor</option>
                            
                            <option  value="EC">Ecuador</option>
                            
                            <option  value="EG">Egypt</option>
                            
                            <option  value="SV">El Salvador</option>
                            
                            <option  value="GQ">Equatorial Guinea</option>
                            
                            <option  value="ER">Eritrea</option>
                            
                            <option  value="EE">Estonia</option>
                            
                            <option  value="ET">Ethiopia</option>
                            
                            <option  value="FK">Falkland Islands</option>
                            
                            <option  value="FO">Faroe Islands</option>
                            
                            <option  value="FJ">Fiji</option>
                            
                            <option  value="FI">Finland</option>
                            
                            <option  value="FR">France</option>
                            
                            <option  value="GF">French Guiana</option>
                            
                            <option  value="PF">French Polynesia</option>
                            
                            <option  value="TF">French Southern Territories</option>
                            
                            <option  value="GA">Gabon</option>
                            
                            <option  value="GM">Gambia</option>
                            
                            <option  value="GE">Georgia</option>
                            
                            <option  value="DE">Germany</option>
                            
                            <option  value="GH">Ghana</option>
                            
                            <option  value="GI">Gibraltar</option>
                            
                            <option  value="GR">Greece</option>
                            
                            <option  value="GL">Greenland</option>
                            
                            <option  value="GD">Grenada</option>
                            
                            <option  value="GP">Guadeloupe</option>
                            
                            <option  value="GU">Guam</option>
                            
                            <option  value="GT">Guatemala</option>
                            
                            <option  value="GG">Guernsey</option>
                            
                            <option  value="GN">Guinea</option>
                            
                            <option  value="GW">Guinea-Bissau</option>
                            
                            <option  value="GY">Guyana</option>
                            
                            <option  value="HT">Haiti</option>
                            
                            <option  value="HM">Heard And Mcdonald Islands</option>
                            
                            <option  value="HN">Honduras</option>
                            
                            <option  value="HK">Hong Kong</option>
                            
                            <option  value="HU">Hungary</option>
                            
                            <option  value="IS">Iceland</option>
                            
                            <option  value="IN">India</option>
                            
                            <option  value="ID">Indonesia</option>
                            
                            <option  value="IQ">Iraq</option>
                            
                            <option  value="IE">Ireland</option>
                            
                            <option  value="IM">Isle of Man</option>
                            
                            <option  value="IL">Israel</option>
                            
                            <option  value="IT">Italy</option>
                            
                            <option  value="JM">Jamaica</option>
                            
                            <option  value="JP">Japan</option>
                            
                            <option  value="JE">Jersey</option>
                            
                            <option  value="JO">Jordan</option>
                            
                            <option  value="KZ">Kazakhstan</option>
                            
                            <option  value="KE">Kenya</option>
                            
                            <option  value="KI">Kiribati</option>
                            
                            <option  value="XK">Kosovo</option>
                            
                            <option  value="KW">Kuwait</option>
                            
                            <option  value="KG">Kyrgyzstan</option>
                            
                            <option  value="LA">Laos</option>
                            
                            <option  value="LV">Latvia</option>
                            
                            <option  value="LB">Lebanon</option>
                            
                            <option  value="LS">Lesotho</option>
                            
                            <option  value="LR">Liberia</option>
                            
                            <option  value="LY">Libyan Arab Jamahiriya</option>
                            
                            <option  value="LI">Liechtenstein</option>
                            
                            <option  value="LT">Lithuania</option>
                            
                            <option  value="LU">Luxembourg</option>
                            
                            <option  value="MO">Macau</option>
                            
                            <option  value="MK">Macedonia</option>
                            
                            <option  value="MG">Madagascar</option>
                            
                            <option  value="MW">Malawi</option>
                            
                            <option  value="MY">Malaysia</option>
                            
                            <option  value="MV">Maldives</option>
                            
                            <option  value="ML">Mali</option>
                            
                            <option  value="MT">Malta</option>
                            
                            <option  value="MH">Marshall Islands</option>
                            
                            <option  value="MQ">Martinique</option>
                            
                            <option  value="MR">Mauritania</option>
                            
                            <option  value="MU">Mauritius</option>
                            
                            <option  value="YT">Mayotte</option>
                            
                            <option  value="MX">Mexico</option>
                            
                            <option  value="FM">Micronesia</option>
                            
                            <option  value="MD">Moldova</option>
                            
                            <option  value="MC">Monaco</option>
                            
                            <option  value="MN">Mongolia</option>
                            
                            <option  value="ME">Montenegro</option>
                            
                            <option  value="MS">Montserrat</option>
                            
                            <option  value="MA">Morocco</option>
                            
                            <option  value="MZ">Mozambique</option>
                            
                            <option  value="MM">Myanmar</option>
                            
                            <option  value="NA">Namibia</option>
                            
                            <option  value="NR">Nauru</option>
                            
                            <option  value="NP">Nepal</option>
                            
                            <option  value="NL">Netherlands</option>
                            
                            <option  value="AN">Netherlands Antilles</option>
                            
                            <option  value="NC">New Caledonia</option>
                            
                            <option  value="NZ">New Zealand</option>
                            
                            <option  value="NI">Nicaragua</option>
                            
                            <option  value="NE">Niger</option>
                            
                            <option  value="NG">Nigeria</option>
                            
                            <option  value="NU">Niue</option>
                            
                            <option  value="NF">Norfolk Island</option>
                            
                            <option  value="MP">Northern Mariana Islands</option>
                            
                            <option  value="NO">Norway</option>
                            
                            <option  value="OM">Oman</option>
                            
                            <option  value="PK">Pakistan</option>
                            
                            <option  value="PW">Palau</option>
                            
                            <option  value="PS">Palestinian Territory, Occupied</option>
                            
                            <option  value="PA">Panama</option>
                            
                            <option  value="PG">Papua New Guinea</option>
                            
                            <option  value="PY">Paraguay</option>
                            
                            <option  value="PE">Peru</option>
                            
                            <option  value="PH">Philippines</option>
                            
                            <option  value="PN">Pitcairn</option>
                            
                            <option  value="PL">Poland</option>
                            
                            <option  value="PT">Portugal</option>
                            
                            <option  value="PR">Puerto Rico</option>
                            
                            <option  value="QA">Qatar</option>
                            
                            <option  value="RE">Reunion</option>
                            
                            <option  value="RO">Romania</option>
                            
                            <option  value="RW">Rwanda</option>
                            
                            <option  value="BL">Saint Barthelemy</option>
                            
                            <option  value="KN">Saint Kitts And Nevis</option>
                            
                            <option  value="LC">Saint Lucia</option>
                            
                            <option  value="MF">Saint Martin</option>
                            
                            <option  value="WS">Samoa</option>
                            
                            <option  value="SM">San Marino</option>
                            
                            <option  value="ST">Sao Tome And Principe</option>
                            
                            <option  value="SA">Saudi Arabia</option>
                            
                            <option  value="SN">Senegal</option>
                            
                            <option  value="RS">Serbia</option>
                            
                            <option  value="SC">Seychelles</option>
                            
                            <option  value="SL">Sierra Leone</option>
                            
                            <option  value="SG">Singapore</option>
                            
                            <option  value="SX">Sint Maarten</option>
                            
                            <option  value="SK">Slovakia</option>
                            
                            <option  value="SI">Slovenia</option>
                            
                            <option  value="SB">Solomon Islands</option>
                            
                            <option  value="SO">Somalia</option>
                            
                            <option  value="ZA">South Africa</option>
                            
                            <option  value="GS">South Georgia</option>
                            
                            <option  value="KR">South Korea</option>
                            
                            <option  value="ES">Spain</option>
                            
                            <option  value="LK">Sri Lanka</option>
                            
                            <option  value="VC">St Vincent And The Grenadines</option>
                            
                            <option  value="SH">St. Helena</option>
                            
                            <option  value="PM">St. Pierre And Miquelon</option>
                            
                            <option  value="SR">Suriname</option>
                            
                            <option  value="SJ">Svalbard And Jan Mayen Islands</option>
                            
                            <option  value="SZ">Swaziland</option>
                            
                            <option  value="SE">Sweden</option>
                            
                            <option  value="CH">Switzerland</option>
                            
                            <option  value="TW">Taiwan</option>
                            
                            <option  value="TJ">Tajikistan</option>
                            
                            <option  value="TZ">Tanzania</option>
                            
                            <option  value="TH">Thailand</option>
                            
                            <option  value="TL">Timor-Leste</option>
                            
                            <option  value="TG">Togo</option>
                            
                            <option  value="TK">Tokelau</option>
                            
                            <option  value="TO">Tonga</option>
                            
                            <option  value="TT">Trinidad And Tobago</option>
                            
                            <option  value="TN">Tunisia</option>
                            
                            <option  value="TR">Turkey</option>
                            
                            <option  value="TM">Turkmenistan</option>
                            
                            <option  value="TC">Turks And Caicos Islands</option>
                            
                            <option  value="TV">Tuvalu</option>
                            
                            <option  value="UG">Uganda</option>
                            
                            <option  value="AE">United Arab Emirates</option>
                            
                            <option  value="GB">United Kingdom</option>
                            
                            <option selected value="US">United States</option>
                            
                            <option  value="UY">Uruguay</option>
                            
                            <option  value="UM">US Minor Outlying Islands</option>
                            
                            <option  value="UZ">Uzbekistan</option>
                            
                            <option  value="VU">Vanuatu</option>
                            
                            <option  value="VA">Vatican City State</option>
                            
                            <option  value="VE">Venezuela</option>
                            
                            <option  value="VN">Viet Nam</option>
                            
                            <option  value="VG">Virgin Islands - British</option>
                            
                            <option  value="VI">Virgin Islands - U.S.</option>
                            
                            <option  value="WF">Wallis And Futuna Islands</option>
                            
                            <option  value="EH">Western Sahara</option>
                            
                            <option  value="YE">Yemen</option>
                            
                            <option  value="YU">Yugoslavia</option>
                            
                            <option  value="ZM">Zambia</option>
                            
                            <option  value="ZW">Zimbabwe</option>
                            
                    </select>
                    <span class="help-block validMessage"></span>
                </div>

                <div class="form-group hideforstored" id="stateprovinceGroup">

                    <div id="canadaProvince" class="stateProvince">
                        <select class="form-control" name="canadaProvinceSelectBox">
                            <option value="" style="color: green;">Please select your province</option>
                            <option value="AB" data-ctry="CA">Alberta</option>
<option value="BC" data-ctry="CA">British Columbia</option>
<option value="MB" data-ctry="CA">Manitoba</option>
<option value="NB" data-ctry="CA">New Brunswick</option>
<option value="NL" data-ctry="CA">Newfoundland</option>
<option value="NT" data-ctry="CA">Northwest Territories</option>
<option value="NS" data-ctry="CA">Nova Scotia</option>
<option value="ON" data-ctry="CA">Ontario</option>
<option value="PE" data-ctry="CA">Prince Edward Island</option>
<option value="QC" data-ctry="CA">Quebec</option>
<option value="SP" data-ctry="CA">St. Pierre & Miguelon</option>
<option value="SK" data-ctry="CA">Saskatchewan</option>
<option value="YT" data-ctry="CA">Yukon</option>
                        </select>
                    </div>

                    <div id="australiaState" class="stateProvince hideforstored">
                        <select class="form-control" name="australiaStateSelectBox">
                            <option value="" style="color: green;">Please select your state</option>
                            <option value="AC" data-ctry="AU">Australian Capital</option>
<option value="NW" data-ctry="AU">New South Wales</option>
<option value="NT" data-ctry="AU">Northern Territory</option>
<option value="QL" data-ctry="AU">Queensland</option>
<option value="SA" data-ctry="AU">South Australia</option>
<option value="TS" data-ctry="AU">Tasmania</option>
<option value="VC" data-ctry="AU">Victoria</option>
<option value="WA" data-ctry="AU">Western Australia</option>
                        </select>
                    </div>

                </div>

                <div id="zipcodeGroup" class="hideforstored">

                    <div class="form-group form-control-container">
                        <input type="text" class="form-control" name="zipcode" id="zip-code" value="" placeholder="Zip Code" />
                    </div>

                </div>

                <div class="form-group hideforstored" id="cityStateGroup">
                    <div class="cityStateLabel"></div>
                    <input type="hidden" name="cityStateAuto" value=""/>
                </div>

                <div id="cityGroup" class="default-to-hidden hideforstored">
                    <div class="form-group">
                        <input type="text" class="form-control" name="city" value="" placeholder="Please enter your city" />
                    </div>
                </div>

                <div id="stateGroup" class="default-to-hidden hideforstored">
                    <div class="form-group">
                        <label class="control-label">State</label>
                        <div>
                            <select class="form-control" name="usStateSelectBox">
                                <option value="">Please select your state</option>
                                <option value="AL" data-ctry="US">Alabama</option>
<option value="AK" data-ctry="US">Alaska</option>
<option value="AS" data-ctry="US">American Samoa</option>
<option value="AZ" data-ctry="US">Arizona</option>
<option value="AR" data-ctry="US">Arkansas</option>
<option value="AE" data-ctry="US">Armed Forces</option>
<option value="AA" data-ctry="US">Armed Forces Americas</option>
<option value="AP" data-ctry="US">Armed Forces Pacific</option>
<option value="CA" data-ctry="US">California</option>
<option value="CO" data-ctry="US">Colorado</option>
<option value="CT" data-ctry="US">Connecticut</option>
<option value="DE" data-ctry="US">Delaware</option>
<option value="DC" data-ctry="US">District of Columbia</option>
<option value="FM" data-ctry="US">Federated States of Micronesia</option>
<option value="FL" data-ctry="US">Florida</option>
<option value="GA" data-ctry="US">Georgia</option>
<option value="GU" data-ctry="US">Guam</option>
<option value="HI" data-ctry="US">Hawaii</option>
<option value="ID" data-ctry="US">Idaho</option>
<option value="IL" data-ctry="US">Illinois</option>
<option value="IN" data-ctry="US">Indiana</option>
<option value="IA" data-ctry="US">Iowa</option>
<option value="KS" data-ctry="US">Kansas</option>
<option value="KY" data-ctry="US">Kentucky</option>
<option value="LA" data-ctry="US">Louisiana</option>
<option value="ME" data-ctry="US">Maine</option>
<option value="MH" data-ctry="US">Marshall Islands</option>
<option value="MD" data-ctry="US">Maryland</option>
<option value="MA" data-ctry="US">Massachusetts</option>
<option value="MI" data-ctry="US">Michigan</option>
<option value="MN" data-ctry="US">Minnesota</option>
<option value="MS" data-ctry="US">Mississippi</option>
<option value="MO" data-ctry="US">Missouri</option>
<option value="MT" data-ctry="US">Montana</option>
<option value="NE" data-ctry="US">Nebraska</option>
<option value="NV" data-ctry="US">Nevada</option>
<option value="NH" data-ctry="US">New Hampshire</option>
<option value="NJ" data-ctry="US">New Jersey</option>
<option value="NM" data-ctry="US">New Mexico</option>
<option value="NY" data-ctry="US">New York</option>
<option value="NC" data-ctry="US">North Carolina</option>
<option value="ND" data-ctry="US">North Dakota</option>
<option value="MP" data-ctry="US">Northern Mariana Islands</option>
<option value="OH" data-ctry="US">Ohio</option>
<option value="OK" data-ctry="US">Oklahoma</option>
<option value="OR" data-ctry="US">Oregon</option>
<option value="PW" data-ctry="US">Palau</option>
<option value="PA" data-ctry="US">Pennsylvania</option>
<option value="PR" data-ctry="US">Puerto Rico</option>
<option value="RI" data-ctry="US">Rhode Island</option>
<option value="SC" data-ctry="US">South Carolina</option>
<option value="SD" data-ctry="US">South Dakota</option>
<option value="TN" data-ctry="US">Tennessee</option>
<option value="TX" data-ctry="US">Texas</option>
<option value="UT" data-ctry="US">Utah</option>
<option value="VT" data-ctry="US">Vermont</option>
<option value="VI" data-ctry="US">Virgin Islands</option>
<option value="VA" data-ctry="US">Virginia</option>
<option value="WA" data-ctry="US">Washington</option>
<option value="WV" data-ctry="US">West Virginia</option>
<option value="WI" data-ctry="US">Wisconsin</option>
<option value="WY" data-ctry="US">Wyoming</option>
                            </select>
                        </div>
                    </div>
                </div>

                </div>

                <div id="cc-icons"></div>

                <div id="paymentMethodBox" class="multiple">
                    
                    <div id="Credit-Details" class="hideforstored">

                        
                            <div class="paymentFields" id="paymentFields_cc">

                                <span class="f-heading hideforstored" id="paymentMethodLabel">Credit or Debit Card</span>

                                

                                <div id="ccGroup" class="form-group form-control-container hideforstored">
                                    <input type="tel" class="form-control" name="ccNumber" autocomplete="cc-number" maxlength="20" value="" id="card_number" placeholder="Card Number" />
                                    <input type="hidden" name="ccType" />
                                    <i class="far fa-credit-card form-control-feedback"></i>
                                    <span class="help-block alert alert-success" style="display:none;" id="voucherSuccessMessage"></span>
                                    <span class="help-block alert alert-danger" style="display:none;" id="voucherErrorMessage"></span>
                                </div>

                                <div class="form-group default-to-hidden hideforstored hideforvoucher" id="ccTypeGroup">

                                    <div>
                                        <select class="form-control" name="ccType2" autocomplete="cc-type">
                                            <option value="">-- SELECT ONE --</option>
                                            <option value="VI">Visa</option>
                                            <option value="AX">American Express</option>
                                            <option value="MC">MasterCard</option>
                                            <option value="DS">Discover</option>
                                            <option value="IK">MasterCard Alaska</option>
                                            <option value="CA">MasterCard Canada</option>
                                            <option value="CB">Carte Blanche</option>
                                            <option value="CU">China Union Pay</option>
                                            <option value="BC">BC Card</option>
                                            <option value="DC">Diners Club</option>
                                            <option value="T">Carta Si</option>
                                            <option value="R">Carte Bleue</option>
                                            <option value="N">Dankort</option>
                                            <option value="L">Delta</option>
                                            <option value="E">Electron</option>
                                            <option value="JC">Japan Credit Bureau</option>
                                            <option value="TO">Maestro</option>
                                            <option value="S">Switch</option>
                                            <option value="O">Solo</option>
                                        </select>
                                    </div>
                                    
                                </div>

                                <div class="clear"></div>

                                <div class="form-group hideforstored hideforvoucher" id="expGroup">

                                    <div id="ccMonthContainer">
                                        
                                        <input type="text" id="ccMonth" x-autocompletetype="cc-exp-month" autocomplete="cc-exp" style="position: absolute;left:-1000px; top:-1000px;">
                                        <select class="form-control" name="ccMonth">
                                            <option value="">Month</option>
                                            
                                            <option value="1">01</option>
                                            
                                            <option value="2">02</option>
                                            
                                            <option value="3">03</option>
                                            
                                            <option value="4">04</option>
                                            
                                            <option value="5">05</option>
                                            
                                            <option value="6">06</option>
                                            
                                            <option value="7">07</option>
                                            
                                            <option value="8">08</option>
                                            
                                            <option value="9">09</option>
                                            
                                            <option value="10">10</option>
                                            
                                            <option value="11">11</option>
                                            
                                            <option value="12">12</option>
                                            
                                        </select>
                                    </div>

                                    <div id="ccYearContainer">
                                        
                                        
                                        <input type="text" id="ccYear" x-autocompletetype="cc-exp-year" autocomplete="cc-exp-year" style="position: absolute;left:-900px; top:-900px;">
                                        <select class="form-control" name="ccYear">
                                            <option value="">Year</option>
                                            
                                            <option value="2023">2023</option>
                                            
                                            <option value="2024">2024</option>
                                            
                                            <option value="2025">2025</option>
                                            
                                            <option value="2026">2026</option>
                                            
                                            <option value="2027">2027</option>
                                            
                                            <option value="2028">2028</option>
                                            
                                            <option value="2029">2029</option>
                                            
                                            <option value="2030">2030</option>
                                            
                                            <option value="2031">2031</option>
                                            
                                            <option value="2032">2032</option>
                                            
                                            <option value="2033">2033</option>
                                            
                                            <option value="2034">2034</option>
                                            
                                            <option value="2035">2035</option>
                                            
                                            <option value="2036">2036</option>
                                            
                                            <option value="2037">2037</option>
                                            
                                            <option value="2038">2038</option>
                                            
                                            <option value="2039">2039</option>
                                            
                                            <option value="2040">2040</option>
                                            
                                            <option value="2041">2041</option>
                                            
                                            <option value="2042">2042</option>
                                            
                                            <option value="2043">2043</option>
                                            
                                        </select>
                                    </div>

                                </div>

                                <div class="form-group form-control-container default-to-hidden hideforcc">
                                    <input type="tel" class="form-control" name="voucherPin" maxlength="6" value="" id="voucher_pin" placeholder="PIN Number" />
                                    <i class="fas fa-lock form-control-feedback"></i>
                                    <a href="#" style="float: right;" id="voucherAddFunds">Add Funds to Voucher</a>
                                    <span id="voucherPinPrompt"><I>What is my PIN number?</I></span>
                                    <div id="voucherPinHint" class="default-to-hidden">
                                        If your voucher has an expiration date, you can use the expiration month and year as your 6-digit PIN.<BR><BR>For example, if your expiration date is <B>5/2024</B>, use the PIN <B>052024</B>
                                    </div>
                                </div>

                                <div class="clear"></div>

                                <div class="form-group form-control-container cvv hideforvoucher">
                                    
                                        <input type="tel" class="form-control" id="cvvNumber" name="cvvNumber" autocomplete="cc-csc" value="" maxlength="4" placeholder="CVV" />
                                        <i class="fas fa-lock form-control-feedback"></i>
                                    
                                    <div class="col-sm-3">
                                        <div id="securityCodeHint" class="default-to-hidden">
                                            <span id="visaCodeHint">3 digit code on back</span>
                                            <span id="amexCodeHint">4 digit code on front</span>
                                            <img src="//cdn.hotelplanner.com/Common/Images/CheckOut/cvv-back2.png" class="cvv" alt="3 digit code on back">
                                        </div>
                                    </div>
                                </div>

                                

                            </div> 
                        
                            <div class="paymentFields section default-to-hidden" id="paymentFields_payLater">

                                <span class="f-heading">Make easy monthly payments over 3, 6, or 12 months</span>

                                <P style="font-size: 120%; text-align: center;">
                                    <span class="affirm-as-low-as" data-page-type="cart" data-amount="13403">Pay Over Time with Affirm</span><BR><BR>
                                    <span style="font-size: 90%; font-style: italic;">Checking your eligibility won't affect your credit.</span>
                                </P>

                            </div> 
                        
                            <div class="paymentFields default-to-hidden" id="paymentFields_googlePay"></div>
                        

                    </div>

                </div> 

                
                
                    <div id="tg-placeholder" class="section" style="padding-top: 18px;"></div>
                    

            </span>

        
                <div id="staydatescheck"><b>Stay dates look correct?</b> <span>Fri, Mar 03 <i class="fa fa-long-arrow-right" aria-hidden="true"></i> Sat, Mar 04, 2023</span></div>
            
            


            <div id="cc" class="form-group section">

                <small id="cancellation-policy">
                    <b>Hotel's Cancellation Policy</b>
                    <pre>NONREFUNDABLE</pre>
                </small>
                <input type="hidden" name="cancellationPolicy" value="NONREFUNDABLE">

                
                

                <div class="alert alert-danger" role="alert" id="checkoutError"></div>

                <div id="submit-wrapper">
                    <button type="submit" class="checkoutSubmit" data-loading-text="<i class='fa fa-spinner fa-spin'></i> Processing your request" 
data-acsrequest-text="<i class='fa fa-spinner fa-spin'></i> Authentication Required" data-acsconfirm-text="<i class='fa fa-spinner fa-spin'></i> Confirming Authentication" data-reserving-text="<i class='fa fa-spinner fa-spin'></i>Connected to Hotel Reservation System" data-processing-text="<i class='fa fa-spinner fa-spin'></i> Processing Reservation" data-paylater-text="Complete with Affirm"
id="btnCheckoutSubmit">Complete Booking</button>
                    <div id="applegooglepay-button"></div>
                    <i id="secureLock" class="fas fa-lock"></i>
                </div>

                

            </div>

            

    <input type="hidden" name="vendor" value="eps"/>
    <input type="hidden" name="DupePreventionKey" value="213-65681942-095F-4216-92CAE2507D486E75" />
    <input type="hidden" name="recordFitAttempt" value="0" />
    <input type="hidden" name="rateDescription" value="270322118" />
    <input type="hidden" name="roomTypeDescription" value="2 Queen Beds" />
    <input type="hidden" name="hotelName" value="" />
    <input type="hidden" name="hotelId" value="6407378" />
    <input type="hidden" name="supplierType" value="" />
    <input type="hidden" name="rateKey" value="" />
    <input type="hidden" name="rateCode" value="270322118" />
    <input type="hidden" name="roomTypeCode" value="229530497" />
    <input type="hidden" name="chargeableRate" value="" />

    
        <input type="hidden" name="chargeableRoomRateTaxesAndFees" value="" />
    

    <input type="hidden" name="uniqueBookingID" value="6567FBA0-E01D-C802-8123D847933BE5AD" />
    <input type="hidden" name="numberOfRooms" value="1" />
    <input type="hidden" name="numberOfAdults" value="2" />
    <input type="hidden" name="numberOfChildren" value="0" />
    <input type="hidden" name="checkIn" value="03/03/2023" />
    <input type="hidden" name="checkOut" value="03/04/2023" />
    <input type="hidden" name="bedType" value="" />
    <input type="hidden" name="numberOfBeds" value="" />
    <input type="hidden" name="taxexempt" value="0" />
    <input type="hidden" name="returnPage" value="https://wholesale.travelsherlock.com/Hotel/HotelRoomTypes.htm?HotelID=6407378&idtype=Universal&gid=0&checkin=03%2F03%2F2023&checkout=03%2F04%2F2023&numRooms=1&numAdults=2&numChildren=0&indate=03%2F03%2F2023&outdate=03%2F04%2F2023" />
    <input type="hidden" name="PropertyCode" value="" />
    <input type="hidden" name="formattedRoomDesc" value="2 Queen Beds" />

    <input type="hidden" name="NightlyRates" value="103.99" />
    <input type="hidden" name="AverageNightly" value="103.99" />

    
    <input type="hidden" name="rateInfo" value="rO0ABXNyACBjb2xkZnVzaW9uLnJ1bnRpbWUuU3RydWN0V3JhcHBlcqijnsU9UAaKAgACTAADbWFwdAAPTGphdmEvdXRpbC9NYXA7TAAPc3RydWN0Q2xhc3NOYW1ldAASTGphdmEvbGFuZy9TdHJpbmc7eHBzcgARamF2YS51dGlsLkhhc2hNYXAFB9rBwxZg0QMAAkYACmxvYWRGYWN0b3JJAAl0aHJlc2hvbGR4cD9AAAAAAABgdwgAAACAAAAAMXQAFXZlbmRvclByaWNlRGlmZmVyZW5jZXQABS03Ljc1dAAIU0FMRVNUQVh0AAB0ABBWRU5ET1JUT1RBTFRBWEVTdAAFMTMuNjR0AA9JU05PTlJFRlVOREFCTEVzcgARamF2YS5sYW5nLkludGVnZXIS4qCk94GHOAIAAUkABXZhbHVleHIAEGphdmEubGFuZy5OdW1iZXKGrJUdC5TgiwIAAHhwAAAAAXQAGm9yaWdpbmFsQ2FuY2VsbGF0aW9uUG9saWN5dAANTk9OUkVGVU5EQUJMRXQADk1VTFRJTEVWRUxDT0RFdAAHUEFDS0FHRXQAD25ld0F2YWlsYWJpbGl0eXNyACdjb2xkZnVzaW9uLnJ1bnRpbWUuVGVtcGxhdGVQcm94eVdyYXBwZXKipp4aug9WeQwAAHhwc3EAfgAEP0AAAAAAAAB3CAAAABAAAAAAeHNxAH4ABD9AAAAAAAAMdwgAAAAQAAAACHQADWhvdGVsSWRUeXBlSWRzcQB+AA0AAAAAdAANVkVORE9SSE9URUxJRHNxAH4ADQNokaJ0AAZ2ZW5kb3J0AANlcHN0AAlyb29tUmF0ZXNzcgAfY29sZGZ1c2lvbi5ydW50aW1lLkFycmF5V3JhcHBlcg8IgOl2TYTdAgACSQAJZGltZW5zaW9uTAAJdmFsdWVMaXN0dAAWTGphdmEvdXRpbC9Db2xsZWN0aW9uO3hwAAAAAXNyABNqYXZhLnV0aWwuQXJyYXlMaXN0eIHSHZnHYZ0DAAFJAARzaXpleHAAAAABdwQAAAABc3EAfgAVc3EAfgAEP0AAAAAAAAB3CAAAABAAAAAAeHNxAH4ABD9AAAAAAAAwdwgAAABAAAAAJ3QAEEFWRVJBR0VCRUZPUkVUQVh0AAYxMDMuOTl0AAxyb29tVHlwZUNvZGVzcQB+AA0NrluBdAAEZmVlc3NxAH4AIAAAAAFzcQB+ACMAAAAAdwQAAAAAeHQAB2lzRmxSZXNzcgARamF2YS5sYW5nLkJvb2xlYW7NIHKA1Zz67gIAAVoABXZhbHVleHAAdAAQVU5QVUJMSVNIRURMRVZFTHNxAH4ADQAAACN0AAZDU0NPUkVzcgAQamF2YS5sYW5nLkRvdWJsZYCzwkopa/sEAgABRAAFdmFsdWV4cQB+AA5AWd4VTJhfB3EAfgAKcQB+AAt0AAVpc0FhYXEAfgAxdAAMcmF0ZVBsYW5Db2Rlc3EAfgANEBzJxnQADVRPVEFMQUZURVJUQVh0AAYxMzQuMDN0AA5UT1RBTEJFRk9SRVRBWHQABjEwMy45OXQAFFZFTkRPUlRPVEFMQkVGT1JFVEFYdAAGMTIwLjM5dAAIc3VwcGxpZXJ0AAxIb3RlbFBsYW5uZXJ0ABNjaGVja0luSW5zdHJ1Y3Rpb25zdAAAdAAIaXNTZW5pb3JxAH4AMXQACmlzTWlsaXRhcnlxAH4AMXQACklTTUVSQ0hBTlR0AAR0cnVldAAOcm9vbXNBdmFpbGFibGVzcQB+AA0AAAAFdAATVkVORE9SVE9UQUxBRlRFUlRBWHQABjEzNC4wM3QACXJvb21Db3VudHEAfgAPdAAGcGF5Tm93cQB+AEd0AApWRU5ET1JDT0RFcQB+AB50AAlUT1RBTEZFRVN0AAQwLjAwdAAMY2FuY2VsUG9saWN5c3EAfgAVc3EAfgAEP0AAAAAAAAB3CAAAABAAAAAAeHNxAH4ABD9AAAAAAAAYdwgAAAAgAAAADXQADE9SSUdJTkFMVEVYVHQADU5PTlJFRlVOREFCTEV0AAdDSEVDS0lOdAAKMjAyMy0wMy0wM3QAC2Rlc2NyaXB0aW9udAAAdAAOUEVOQUxUWVBFUkNFTlR0AAEwdAANbm9uUmVmdW5kYWJsZXNxAH4AMAF0ABBmcmVlQ2FuY2VsbGF0aW9udAAFZmFsc2V0AAhPVkVSUklERXEAfgBgdAAOaXNDYW5jZWxCZWZvcmVxAH4AYHQAC3RpbWV6b25lVGFndAAQTE9DQUwgSE9URUwgVElNRXQADGlzQ2FuY2VsRnJvbXEAfgBgdAAHcHJlUGFpZHQABHRydWV0AA9DQU5DRUxQRU5BTFRJRVNzcQB+ACAAAAABc3EAfgAjAAAAAXcEAAAAAXNxAH4AFXNxAH4ABD9AAAAAAAAAdwgAAAAQAAAAAHhzcQB+AAQ/QAAAAAAADHcIAAAAEAAAAAN0AAZub1Nob3dxAH4AYHQABXByaWNldAAGMTI4LjIwdAAIZGVhZGxpbmV0ABcyMDIzLTAxLTIxVDAxOjAwOjAwLjAwMHh0AChjb20uaG90ZWxwbGFubmVyLmFwaS5tb2RlbC5DYW5jZWxQZW5hbHR5dwEAeHh0AAR0ZXh0cQB+AFZ4dAAnY29tLmhvdGVscGxhbm5lci5hcGkubW9kZWwuQ2FuY2VsUG9saWN5dwEAeHQABXJhdGVzc3EAfgAgAAAAAXNxAH4AIwAAAAF3BAAAAAFzcQB+ABVzcQB+AAQ/QAAAAAAAAHcIAAAAEAAAAAB4c3EAfgAEP0AAAAAAAAx3CAAAABAAAAAKdAAPYW1vdW50QmVmb3JlVGF4dAAGMTAzLjk5dAAGUEFSSVRZdAAFZmFsc2V0AA5leHRyYVBlcnNvbkZlZXQAATB0ABRWRU5ET1JFWFRSQVBFUlNPTkZFRXQABDAuMDB0AA5WRU5ET1JBRlRFUlRBWHQABjEzNC4wM3QADmFtb3VudEFmdGVyVGF4dAAGMTM0LjAzdAAKZXhwaXJlRGF0ZXNyACVjb2xkZnVzaW9uLnJ1bnRpbWUuT2xlRGF0ZVRpbWVXcmFwcGVyatCSbHnJ+1ICAAFKAAR0aW1leHAAAAGGqzSnAHQAD1ZFTkRPUkJFRk9SRVRBWHQABjEyMC4zOXQADWVmZmVjdGl2ZURhdGVzcQB+AIkAAAGGpg5LAHQACERVUkFUSU9Oc3EAfgA1P/AAAAAAAAB4dAAfY29tLmhvdGVscGxhbm5lci5hcGkubW9kZWwuUmF0ZXcBAHh4dAAMdG90YWxUYXhSYXRlc3EAfgA1P8R64UeuFHt0AApUT1RBTFRBWEVTdAAFMzAuMDR0AA1wcm9tb3Rpb25UZXh0dAAaTWVtYmVy4oCZcyBleGNsdXNpdmUgcHJpY2V0AAxDVVJSRU5DWUNPREV0AANVU0R0AAZCVU5ETEV0ACM2NTY3RkRGNi1FRTcwLUQzNUYtOEZDM0I3NjM5MjZDREY4MHQACGVhcm5pbmdzc3EAfgAVc3EAfgAEP0AAAAAAAAB3CAAAABAAAAAAeHNxAH4ABD9AAAAAAAAMdwgAAAAQAAAABHQABk1BUkdJTnQABDAuMDB0AA5UQUlMQ09NTUlTU0lPTnQABTIzLjg3dAALR1JPU1NQUk9GSVR0AAUyMy44N3QADGN1cnJlbmN5Q29kZXQAA1VTRHh0ACNjb20uaG90ZWxwbGFubmVyLmFwaS5tb2RlbC5FYXJuaW5nc3cBAHh0ABVBVkVSQUdFRVhUUkFQRVJTT05GRUV0AAQwLjAwdAAMaXNHb3Zlcm5tZW50cQB+ADF0ABRUT1RBTEVYVFJBUEVSU09ORkVFU3QABDAuMDB0AA9BVkVSQUdFQUZURVJUQVh0AAYxMzQuMDN0ABJWRU5ET1JDVVJSRU5DWUNPREV0AANVU0R0AAxST09NUkFURUNPREVzcQB+AABzcQB+AAQ/QAAAAAAAYHcIAAAAgAAAAFt0ABp2ZW5kb3JUb3RhbEV4dHJhUGVyc29uRmVlc3NxAH4ANQAAAAAAAAAAcQB+ACpxAH4AK3QABXJvb21zdAAwW3siY2hpbGRBZ2VzIjoiIiwiY2hpbGRDb3VudCI6MCwiYWR1bHRDb3VudCI6Mn1dcQB+ACxxAH4AUHQADXNlbGxhYmxlU2NvcmVzcQB+ADU/764UeuFHrnQACmFkdWx0Q291bnRzcQB+AA0AAAACdAAQdW5wdWJsaXNoZWRMZXZlbHEAfgAzdAAFdGF4ZXN0AAUzMC4wNHEAfgA4cQB+ADl0AApyb29tVHlwZUlkdAAVMiAgcXVlZW5Ob25SZWZ1bmRhYmxlcQB+AF9xAH4AgXQACnZlbmRvckNvZGVxAH4AHnQACnNvdXJjZUNvZGV0AAlXaG9sZXNhbGV0ABNlc3RpbWF0ZWRDb21taXNzaW9udAAFMjMuODd0AAxyYXRlUGxhbk5hbWVzcQB+AA0QHMnGcQB+AEBxAH4AHnEAfgBFcQB+AH90AA12ZW5kb3JIb3RlbElkcQB+ABxxAH4ASHEAfgBJdAAHYm9va1VybHQEoi92My9pdGluZXJhcmllcz90b2tlbj1RbGRmQ0dsY1VBNEZWbGhYQndZRVhBOURSd2RXWEJCTER3aGVaa0ZkQndWVkJGRlJBUUZVVVJsU1h3Y01Td2NIQ0FBWUJRWUNBRXhYQ2dBSFZ3ZFRBMUJTQmdBUVhsVkhWQXBWQzBCckRsQm5RMUJXV3hZQkQzdzlZSE54Y1NjZVFCWmZVRkktVUF0WldnTUVVQVZVQUZVVlVFTkRWazBBYkFwWEN3WlJBMWNMQkFFQ0NCTkFEVU5kT1JaTkVWVU9UUk5ZVlF0TUNGY1BWQTF0VmhRTVJVWlFRRU1KVmdGQlJRQmZCVTBPQmhRTVVVTUpCMElMRFZackJBQlVDQUVLSFE5VkVRaFhWMThVVlY1V0NRTmJGR3hqUkVaWFJFRUFVUWxDQlVKZEFSNFZFRnNIQUVoVENRWmJDQmRHQkVVR1owQkJGRklPWkNKM0xYUWlJeEVJWFJFN1JsVVhWMFplVVFkZEZWRWZBRlFSV0FVRlZSRlZVRkpSRGdvTUNncFVBbFlhVXdjZkFGRVRFVmxMUUF0V1FqNUJRVmdDREY5ZE9WOENCQVFJVndBQVZ4NVpCdzVTVlJFTkVVcEJCQklHRjBFVUJBdFFTdzV0TjMwZUR3VkNDbDFGQ3d4Zlp3QU9WbHBkQTFoWkFoY0JDUU1HV2cwVEYxaFVVZ1VFVDFJQkhRZ0VRMVJRVUd4ZUFGeFJBd1VFVlI0UlJRdFVCRmNKVmxjZlNsMWJFMGdQWHdGc1JWZ1FDd2swZUNkX0ozUnpId2RaQ3dkZVBBeFVWQUJSUURsWlhGaFBhRmRUVWx4R0NnUlZDVWRSUjFkVlhrQmJRRmxVQVExTEFBVVRTZ05lVlJaRVdsa0diQkJYUVJZQ1VRVkFBRWtQVVVoQlJWQUdWazVRWGxFRldFSmFRME5IWDFoV0ZtaExBeEZIQ0Y5ZFpnaGRERmRiVmd4V1ZBVUNHVklIVVZjWUJsMVNVMDhOQjFrQ1MxSUxWMU1GVWdWYVVRRUVXeGRIQnhaQ1hGeFhiRjRHQ2wwQ0RsNEhVQTVSR1ZjQkNnd2RWZ0lQQkI0QkFnVUlTUVJRVVFvQlVBWUNWRlZXQTBWSUVWNUVBRU1YUVd0UkFBb0dBMUlNVWdOU1VoRUJYUXNCUmxVWFYxRThRdzljQXdrTFZRZFNIRkVMU0FjRWJBWUxRRkFqQmdwQkF5UUVXeG9DQ0ZvSFZ3RUxCVlZwRmdKZVJsa1FGMHBuQlZrQ1hBeHNOaEpVQVZ4ckJnWkRVeEZaRlV4ZERscFlVQmczRkFCV1hCaDZBVjFMUkFaVkJXZFNEUXhlVVFRVFJWVkhEMXNLRHhSWEkwTlNjMGRVVVJFZkVsSVNVRkFYQTNrVlZ3UmtRVlpTQ2lNSFVCTUNWeDFYZGtjQ0N4RlFIQU1jQ3djUlVIbERBMVJpUUZ3QkRSRldDMEVHSlJZRUN4UkFCUXBCQ2hWSUhGQUdGMVYzQUJFQmN4WURkeFpHUWhKRUNWMVJFMmxSVlFnSEFFSW1XbHdHVzBWQVZWc0pBMWNFQlFkUUExb1BxAH4ATHEAfgAPdAAQbmlnaHRseVJhdGVUYWJsZXNxAH4AIAAAAAFzcQB+ACMAAAACdwQAAAACc3EAfgAAc3EAfgAEP0AAAAAAAAx3CAAAABAAAAACdAAEUkFURXQAByQxMDMuOTl0AAVMQUJFTHQAA0ZyaXh0ABljb2xkZnVzaW9uLnJ1bnRpbWUuU3RydWN0c3EAfgAAc3EAfgAEP0AAAAAAAAx3CAAAABAAAAACcQB+ANF0AAckMTAzLjk5cQB+ANN0AANBdmd4cQB+ANV4cQB+AIBxAH4AgXQAFG9yaWdpbmFsQ2FuY2VsUG9saWN5c3EAfgAAc3EAfgAEP0AAAAAAAAx3CAAAABAAAAAEdAAMb3JpZ2luYWxUZXh0dAANTk9OUkVGVU5EQUJMRXQACG92ZXJyaWRlcQB+ADF0ABJDYW5jZWxQb2xpY3lPYmplY3R0BHIick8wQUJYTnlBQ2RqYjJ4a1puVnphVzl1TG5KMWJuUnBiV1V1VkdWdGNHeGhkR1ZRY205NGVWZHlZWEJ3WlhLaXBwNGF1ZzlXZVF3QUFIaHdjM0lBRVdwaGRtRXVkWFJwYkM1SVlYTm9UV0Z3QlFmYXdjTVdZTkVEQUFKR0FBcHNiMkZrUm1GamRHOXlTUUFKZEdoeVpYTm9iMnhrZUhBL1FBQUFBQUFBQUhjSUFBQUFFQUFBQUFCNGMzRUFmZ0FDUDBBQUFBQUFBQmgzQ0FBQUFDQUFBQUFOZEFBTVQxSkpSMGxPUVV4VVJWaFVkQUFOVGs5T1VrVkdWVTVFUVVKTVJYUUFCME5JUlVOTFNVNTBBQW95TURJekxUQXpMVEF6ZEFBTFpHVnpZM0pwY0hScGIyNTBBQUIwQUE1UVJVNUJURlJaVUVWU1EwVk9WSFFBQVRCMEFBMXViMjVTWldaMWJtUmhZbXhsYzNJQUVXcGhkbUV1YkdGdVp5NUNiMjlzWldGdXpTQnlnTldjK3U0Q0FBRmFBQVYyWVd4MVpYaHdBWFFBRUdaeVpXVkRZVzVqWld4c1lYUnBiMjUwQUFWbVlXeHpaWFFBQ0U5V1JWSlNTVVJGY1FCK0FCRjBBQTVwYzBOaGJtTmxiRUpsWm05eVpYRUFmZ0FSZEFBTGRHbHRaWHB2Ym1WVVlXZDBBQkJNVDBOQlRDQklUMVJGVENCVVNVMUZkQUFNYVhORFlXNWpaV3hHY205dGNRQitBQkYwQUFkd2NtVlFZV2xrZEFBRWRISjFaWFFBRDBOQlRrTkZURkJGVGtGTVZFbEZVM055QUI5amIyeGtablZ6YVc5dUxuSjFiblJwYldVdVFYSnlZWGxYY21Gd2NHVnlEd2lBNlhaTmhOMENBQUpKQUFsa2FXMWxibk5wYjI1TUFBbDJZV3gxWlV4cGMzUjBBQlpNYW1GMllTOTFkR2xzTDBOdmJHeGxZM1JwYjI0N2VIQUFBQUFCYzNJQUUycGhkbUV1ZFhScGJDNUJjbkpoZVV4cGMzUjRnZElkbWNkaG5RTUFBVWtBQkhOcGVtVjRjQUFBQUFGM0JBQUFBQUZ6Y1FCK0FBQnpjUUIrQUFJL1FBQUFBQUFBQUhjSUFBQUFFQUFBQUFCNGMzRUFmZ0FDUDBBQUFBQUFBQXgzQ0FBQUFCQUFBQUFEZEFBR2JtOVRhRzkzY1FCK0FCRjBBQVZ3Y21salpYUUFCakV5T0M0eU1IUUFDR1JsWVdSc2FXNWxkQUFYTWpBeU15MHdNUzB5TVZRd01Ub3dNRG93TUM0d01EQjRkQUFvWTI5dExtaHZkR1ZzY0d4aGJtNWxjaTVoY0drdWJXOWtaV3d1UTJGdVkyVnNVR1Z1WVd4MGVYY0JBSGg0ZEFBRWRHVjRkSEVBZmdBR2VIUUFKMk52YlM1b2IzUmxiSEJzWVc1dVpYSXVZWEJwTG0xdlpHVnNMa05oYm1ObGJGQnZiR2xqZVhjQkFIZz0idAAOcGVuYWx0eVBlcmNlbnRxAH4AGnhxAH4A1XQADXByaWNlQ2hlY2tVcmx0AgQvdjMvcHJvcGVydGllcy81NzE4NDY3NC9yb29tcy8yMjk1MzA0OTcvcmF0ZXMvMjcwMzIyMTE4P3Rva2VuPUZ+T2pvZ1p5dzBOaGt5QVE5UFlXVUNaMjAyRDJnQ0NWQUtTMVlLRkFVSElUSlVBVlFBR0FsWFRnUlFjMmRoTlhka0hWQldVMUFDQWdVQkZGWlFVUVFiQmd3Q1VSNFBBUWdHR2dRTUJsVlFBd0lBQWdKVERENUJDdzFTVmxCUkR3UVZBVkFGQmhwVkJGUU5HUVpYQlFBZlYxMVNEQUVEQTE5VUF3VlJWREpUQWxZTkFBTkJOQUFEVkFaQ1oxSy1ZREVEcTJBOEFsVUxWUWo3TkcwQUZEY1dWMUJiRWljRFVSR1dORkJxSFJaSFRVSUVFZ3RBTTBNSEJsOTJCd0VUR1JGS1drMEhGVjRVYUUwRVVWY1JHRVJFVEZoZUZseE1TQkZaQmtsdHpETTExekpuVUFhdVpHTUJWVklXVkFuVVpET0xPVERJWlRXN05tS2taRFQ5WkRYR09tVE9OaEJhQ3cxVEJRVUdWaGtQVWxaVkhGVmFBd2NiV1ZVS0FFNVdVZzlSQTFZRlZRWlhVMUdIWXlZTEJGY0FIVkVDSGdkV01RSUJYQWRYQXdRSlN3QU9WUThOVkZFSkFqbUtaenBDVXVKN1J4bz10ABR2ZW5kb3JUb3RhbEJlZm9yZVRheHNxAH4ANUBf/hR64UeudAAOaGlnaGxpZ2h0c0xpc3RxAH4ACXQAD3JhdGVEZXNjcmlwdGlvbnNxAH4ADRAcycZ0ABBudW1iZXJPZkNoaWxkcmVucQB+ABp0AA5udW1iZXJPZkFkdWx0c3EAfgC8cQB+AKtxAH4Af3QACHN1YnRvdGFscQB+AD10AAlDUkVBVEVEQVRzcQB+AIkAAAGGo72dcnQAE3Jvb21UeXBlRGVzY3JpcHRpb250AAwyIFF1ZWVuIEJlZHN0AAhjaGVja091dHQACjIwMjMtMDMtMDR0AAxvcmlnaW5hbFJhdGV0CwB7InJlZnVuZGFibGUiOmZhbHNlLCJjYW5jZWxfcGVuYWx0aWVzIjpbeyJjdXJyZW5jeSI6IlVTRCIsInBlcmNlbnQiOiIxMDAlIiwic3RhcnQiOiIyMDIzLTAxLTIxVDAxOjAwOjAwLjAwMC0wNjowMCIsImVuZCI6IjIwMjMtMDMtMDNUMTY6MDA6MDAuMDAwLTA2OjAwIn1dLCJhdmFpbGFibGVfcm9vbXMiOjUsImJlZF9ncm91cHMiOnsiMzczNDAiOnsiZGVzY3JpcHRpb24iOiIyIFF1ZWVuIEJlZHMiLCJjb25maWd1cmF0aW9uIjpbeyJxdWFudGl0eSI6Miwic2l6ZSI6IlF1ZWVuIiwidHlwZSI6IlF1ZWVuQmVkIn1dLCJsaW5rcyI6eyJwcmljZV9jaGVjayI6eyJtZXRob2QiOiJHRVQiLCJocmVmIjoiL3YzL3Byb3BlcnRpZXMvNTcxODQ2NzQvcm9vbXMvMjI5NTMwNDk3L3JhdGVzLzI3MDMyMjExOD90b2tlbj1Gfk9qb2daeXcwTmhreUFROVBZV1VDWjIwMkQyZ0NDVkFLUzFZS0ZBVUhJVEpVQVZRQUdBbFhUZ1JRYzJkaE5YZGtIVkJXVTFBQ0FnVUJGRlpRVVFRYkJnd0NVUjRQQVFnR0dnUU1CbFZRQXdJQUFnSlRERDVCQ3cxU1ZsQlJEd1FWQVZBRkJocFZCRlFOR1FaWEJRQWZWMTFTREFFREExOVVBd1ZSVkRKVEFsWU5BQU5CTkFBRFZBWkNaMUstWURFRHEyQThBbFVMVlFqN05HMEFGRGNXVjFCYkVpY0RVUkdXTkZCcUhSWkhUVUlFRWd0QU0wTUhCbDkyQndFVEdSRktXazBIRlY0VWFFMEVVVmNSR0VSRVRGaGVGbHhNU0JGWkJrbHR6RE0xMXpKblVBYXVaR01CVlZJV1ZBblVaRE9MT1RESVpUVzdObUtrWkRUOVpEWEdPbVRPTmhCYUN3MVRCUVVHVmhrUFVsWlZIRlZhQXdjYldWVUtBRTVXVWc5UkExWUZWUVpYVTFHSFl5WUxCRmNBSFZFQ0hnZFdNUUlCWEFkWEF3UUpTd0FPVlE4TlZGRUpBam1LWnpwQ1V1SjdSeG89In19LCJpZCI6MzczNDB9fSwibWVtYmVyX2RlYWxfYXZhaWxhYmxlIjpmYWxzZSwibGlua3MiOnsicGF5bWVudF9vcHRpb25zIjp7Im1ldGhvZCI6IkdFVCIsImhyZWYiOiIvdjMvcHJvcGVydGllcy81NzE4NDY3NC9wYXltZW50LW9wdGlvbnM/dG9rZW49UkVoWkFRc0FCQU1HUWhNSFVsTkNGMUVMVWoxRFZoZExCUU1FUzFSRUNseExRZzVjUlI4V0JsSUJTeFpkQ0ZScFRReFJXVjBNVzFFRFdsVUVIMUFCVVFBYkExRlFBeDFVVlZwUlNBQlJWZ01MQWdjREJnRUdBUjhJVlVSV1VBZFdSRHRaVldnVFZnQlhSZ0JjY1dCaUpIMHZkRU5TUWtvUlhBNVdSR3NWVmhkS1gxOWRiMXhYV1FKYlVWWURBRlFERkZWZFVnQVZWUUJWVTB3TEJsNVFIMU1OVVFRQ1YxWU1CbFpYWGhKUVFVRVZYMXdIRUdrTEV3d0dWRlVCRUFCNEFnQlNCVUVGZUYwREJCd0FkVkFCWEFrVlVYUmVBQVlBRVFkeFVGTlJWeFpXSXd0VUFGWVZVaUpjVndRRFEwSUdTMGRSQzFsc1hRY0pYd0ZTQUZFQ0R3ZEpCUUJRQnhoWEFGRUVTMVlQVkExTUJ3VU1YRk1FREZFRFZRVUFFVXNMUlJkVUJnbEFVUkpjQlJWS1hBcERGaEpFUTBjSURGWktPVmtXWEVOWUVWMVlBMmRaRFFkVlhGNTlJR3AzS1hVck5oVUJCQXRXUUZKTUFWMW5GZzFkQkFVRFVsQUxGVk5WR2dRQk1nVmRGd0lqVUZkQUFpTlRVMHRTV2dZQVcxUUFDUXBxUTFWYVFWMURGaGc5VjFsVUFBVXdaa1JWV0JKUUFsc0pIMVpjQmxzTldBZ09Cd2xXVUJsVUNra0VWUlZHV0JkQkNnRkhQQkZEVmdSZFhnTnBXMUFMQWdJRUJ3WUdFUUZCRjBaUkQxVkJER0JtY0VJR1dsd0dXMWxBVEZzS0FGWUZIZ2RTSGxNTUVoY1VSRWhlQ0Z3VWFneFZDZ3RSRlNCYlUxY05RQkZVQ3dJQUF3TUFVZ0FJVlZFPSJ9fSwib2NjdXBhbmN5X3ByaWNpbmciOnsiMiI6eyJuaWdodGx5IjpbW3siY3VycmVuY3kiOiJVU0QiLCJ2YWx1ZSI6MTI3Ljk3LCJ0eXBlIjoiYmFzZV9yYXRlIn0seyJjdXJyZW5jeSI6IlVTRCIsInZhbHVlIjoxMy44MSwidHlwZSI6InRheF9hbmRfc2VydmljZV9mZWUifV1dLCJ0b3RhbHMiOnsiZXhjbHVzaXZlIjp7InJlcXVlc3RfY3VycmVuY3kiOnsiY3VycmVuY3kiOiJVU0QiLCJ2YWx1ZSI6MTI3Ljk3fSwiYmlsbGFibGVfY3VycmVuY3kiOnsiY3VycmVuY3kiOiJVU0QiLCJ2YWx1ZSI6MTI3Ljk3fX0sImdyb3NzX3Byb2ZpdCI6eyJyZXF1ZXN0X2N1cnJlbmN5Ijp7ImN1cnJlbmN5IjoiVVNEIiwidmFsdWUiOjQyLjZ9LCJiaWxsYWJsZV9jdXJyZW5jeSI6eyJjdXJyZW5jeSI6IlVTRCIsInZhbHVlIjo0Mi42fX0sInN0cmlrZXRocm91Z2giOnsicmVxdWVzdF9jdXJyZW5jeSI6eyJjdXJyZW5jeSI6IlVTRCIsInZhbHVlIjoxNjUuMTR9LCJiaWxsYWJsZV9jdXJyZW5jeSI6eyJjdXJyZW5jeSI6IlVTRCIsInZhbHVlIjoxNjUuMTR9fSwiaW5jbHVzaXZlIjp7InJlcXVlc3RfY3VycmVuY3kiOnsiY3VycmVuY3kiOiJVU0QiLCJ2YWx1ZSI6MTQxLjc4fSwiYmlsbGFibGVfY3VycmVuY3kiOnsiY3VycmVuY3kiOiJVU0QiLCJ2YWx1ZSI6MTQxLjc4fX0sIm1hcmtldGluZ19mZWUiOnsicmVxdWVzdF9jdXJyZW5jeSI6eyJjdXJyZW5jeSI6IlVTRCIsInZhbHVlIjoyOC45N30sImJpbGxhYmxlX2N1cnJlbmN5Ijp7ImN1cnJlbmN5IjoiVVNEIiwidmFsdWUiOjI4Ljk3fX19fX0sInN0YXR1cyI6ImF2YWlsYWJsZSIsIm1lcmNoYW50X29mX3JlY29yZCI6ImV4cGVkaWEiLCJhbWVuaXRpZXMiOnsiMjEwOSI6eyJpZCI6MjEwOSwibmFtZSI6IkZyZWUgc2VsZiBwYXJraW5nIn0sIjIxOTIiOnsiaWQiOjIxOTIsIm5hbWUiOiJGcmVlIFdpRmkifX0sImlkIjoyNzAzMjIxMTgsInByb21vdGlvbnMiOnsiZGVhbCI6eyJkZXNjcmlwdGlvbiI6Ik1lbWJlcuKAmXMgZXhjbHVzaXZlIHByaWNlIiwiaWQiOjczMDMzNTE1MH19LCJzYWxlX3NjZW5hcmlvIjp7ImRpc3RyaWJ1dGlvbiI6ZmFsc2UsInBhY2thZ2UiOnRydWUsImNvcnBvcmF0ZSI6ZmFsc2UsIm1lbWJlciI6ZmFsc2V9fXQADG5pZ2h0bHlSYXRlc3EAfgB9dAAOdG90YWxCZWZvcmVUYXhxAH4APXQADmNvbW1pc3Npb25SYXRlc3EAfgA1QDPTxTnGX7t0AA10b3RhbEFmdGVyVGF4cQB+ADt0ABBjdXJyZW50QWxsb3RtZW50cQB+AEl0ABN2ZW5kb3JUb3RhbEFmdGVyVGF4c3EAfgA1QGG49cKPXCl0AAdwb3N0UGF5cQB+AIF0AA9pc05vblJlZnVuZGFibGV0AAExcQB+AC9xAH4Af3QAEnByaWNlQ2hlY2tSZXNwb25zZXQICXsic3RhdHVzIjoiYXZhaWxhYmxlIiwib2NjdXBhbmN5X3ByaWNpbmciOnsiMiI6eyJuaWdodGx5IjpbW3sidHlwZSI6InRheF9hbmRfc2VydmljZV9mZWUiLCJ2YWx1ZSI6IjEzLjY0IiwiY3VycmVuY3kiOiJVU0QifSx7InR5cGUiOiJiYXNlX3JhdGUiLCJ2YWx1ZSI6IjEyMC4zOSIsImN1cnJlbmN5IjoiVVNEIn1dXSwidG90YWxzIjp7InN0cmlrZXRocm91Z2giOnsicmVxdWVzdF9jdXJyZW5jeSI6eyJ2YWx1ZSI6IjE1Ny41NiIsImN1cnJlbmN5IjoiVVNEIn0sImJpbGxhYmxlX2N1cnJlbmN5Ijp7InZhbHVlIjoiMTU3LjU2IiwiY3VycmVuY3kiOiJVU0QifX0sImV4Y2x1c2l2ZSI6eyJyZXF1ZXN0X2N1cnJlbmN5Ijp7InZhbHVlIjoiMTIwLjM5IiwiY3VycmVuY3kiOiJVU0QifSwiYmlsbGFibGVfY3VycmVuY3kiOnsidmFsdWUiOiIxMjAuMzkiLCJjdXJyZW5jeSI6IlVTRCJ9fSwibWFya2V0aW5nX2ZlZSI6eyJyZXF1ZXN0X2N1cnJlbmN5Ijp7InZhbHVlIjoiMjMuODciLCJjdXJyZW5jeSI6IlVTRCJ9LCJiaWxsYWJsZV9jdXJyZW5jeSI6eyJ2YWx1ZSI6IjIzLjg3IiwiY3VycmVuY3kiOiJVU0QifX0sImdyb3NzX3Byb2ZpdCI6eyJyZXF1ZXN0X2N1cnJlbmN5Ijp7InZhbHVlIjoiMzUuMTEiLCJjdXJyZW5jeSI6IlVTRCJ9LCJiaWxsYWJsZV9jdXJyZW5jeSI6eyJ2YWx1ZSI6IjM1LjExIiwiY3VycmVuY3kiOiJVU0QifX0sImluY2x1c2l2ZSI6eyJyZXF1ZXN0X2N1cnJlbmN5Ijp7InZhbHVlIjoiMTM0LjAzIiwiY3VycmVuY3kiOiJVU0QifSwiYmlsbGFibGVfY3VycmVuY3kiOnsidmFsdWUiOiIxMzQuMDMiLCJjdXJyZW5jeSI6IlVTRCJ9fX19fSwibGlua3MiOnsiYm9vayI6eyJtZXRob2QiOiJQT1NUIiwiaHJlZiI6Ii92My9pdGluZXJhcmllcz90b2tlbj1RbGRmQ0dsY1VBNEZWbGhYQndZRVhBOURSd2RXWEJCTER3aGVaa0ZkQndWVkJGRlJBUUZVVVJsU1h3Y01Td2NIQ0FBWUJRWUNBRXhYQ2dBSFZ3ZFRBMUJTQmdBUVhsVkhWQXBWQzBCckRsQm5RMUJXV3hZQkQzdzlZSE54Y1NjZVFCWmZVRkktVUF0WldnTUVVQVZVQUZVVlVFTkRWazBBYkFwWEN3WlJBMWNMQkFFQ0NCTkFEVU5kT1JaTkVWVU9UUk5ZVlF0TUNGY1BWQTF0VmhRTVJVWlFRRU1KVmdGQlJRQmZCVTBPQmhRTVVVTUpCMElMRFZackJBQlVDQUVLSFE5VkVRaFhWMThVVlY1V0NRTmJGR3hqUkVaWFJFRUFVUWxDQlVKZEFSNFZFRnNIQUVoVENRWmJDQmRHQkVVR1owQkJGRklPWkNKM0xYUWlJeEVJWFJFN1JsVVhWMFplVVFkZEZWRWZBRlFSV0FVRlZSRlZVRkpSRGdvTUNncFVBbFlhVXdjZkFGRVRFVmxMUUF0V1FqNUJRVmdDREY5ZE9WOENCQVFJVndBQVZ4NVpCdzVTVlJFTkVVcEJCQklHRjBFVUJBdFFTdzV0TjMwZUR3VkNDbDFGQ3d4Zlp3QU9WbHBkQTFoWkFoY0JDUU1HV2cwVEYxaFVVZ1VFVDFJQkhRZ0VRMVJRVUd4ZUFGeFJBd1VFVlI0UlJRdFVCRmNKVmxjZlNsMWJFMGdQWHdGc1JWZ1FDd2swZUNkX0ozUnpId2RaQ3dkZVBBeFVWQUJSUURsWlhGaFBhRmRUVWx4R0NnUlZDVWRSUjFkVlhrQmJRRmxVQVExTEFBVVRTZ05lVlJaRVdsa0diQkJYUVJZQ1VRVkFBRWtQVVVoQlJWQUdWazVRWGxFRldFSmFRME5IWDFoV0ZtaExBeEZIQ0Y5ZFpnaGRERmRiVmd4V1ZBVUNHVklIVVZjWUJsMVNVMDhOQjFrQ1MxSUxWMU1GVWdWYVVRRUVXeGRIQnhaQ1hGeFhiRjRHQ2wwQ0RsNEhVQTVSR1ZjQkNnd2RWZ0lQQkI0QkFnVUlTUVJRVVFvQlVBWUNWRlZXQTBWSUVWNUVBRU1YUVd0UkFBb0dBMUlNVWdOU1VoRUJYUXNCUmxVWFYxRThRdzljQXdrTFZRZFNIRkVMU0FjRWJBWUxRRkFqQmdwQkF5UUVXeG9DQ0ZvSFZ3RUxCVlZwRmdKZVJsa1FGMHBuQlZrQ1hBeHNOaEpVQVZ4ckJnWkRVeEZaRlV4ZERscFlVQmczRkFCV1hCaDZBVjFMUkFaVkJXZFNEUXhlVVFRVFJWVkhEMXNLRHhSWEkwTlNjMGRVVVJFZkVsSVNVRkFYQTNrVlZ3UmtRVlpTQ2lNSFVCTUNWeDFYZGtjQ0N4RlFIQU1jQ3djUlVIbERBMVJpUUZ3QkRSRldDMEVHSlJZRUN4UkFCUXBCQ2hWSUhGQUdGMVYzQUJFQmN4WURkeFpHUWhKRUNWMVJFMmxSVlFnSEFFSW1XbHdHVzBWQVZWc0pBMWNFQlFkUUExb1AifX19dAANbnVtYmVyT2ZSb29tc3EAfgAPdAANcmVzb3J0RmVlVGV4dHEAfgAJcQB+ADdxAH4Af3QAFnByaWNlQ2hlY2tPcmlnaW5hbFJhdGVxAH4A9HQAEHByb21vRGVzY3JpcHRpb25xAH4Al3QACHJhdGVDb2RlcQB+ADl0AAlpc1Ntb2tpbmdxAH4AgXQACXZhbHVlQWRkc3EAfgAJcQB+ABlxAH4AGnQAEnZlbmRvckN1cnJlbmN5Q29kZXEAfgCxdAAFdG90YWxxAH4AO3QAD3Jvb21EZXNjcmlwdGlvbnQAH1Jvb20sIDIgUXVlZW4gQmVkcywgTm9uIFNtb2tpbmd0ABB2ZW5kb3JUb3RhbFRheGVzc3EAfgA1QCueuFHrhR9xAH4AQnEAfgBDcQB+AERxAH4Af3QAEXRheEV4ZW1wdEZyaWVuZGx5cQB+AIF0AAhjdXJyZW5jeXEAfgCZdAASZXh0cmFQZXJzb25GZWVUZXh0cQB+AAl0ABR0b3RhbEV4dHJhUGVyc29uRmVlc3EAfgCtdAAJaXNQb3N0cGF5cQB+AIF0AAthdmVyYWdlUmF0ZXEAfgApdAAPb3JpZ2luYWxSYXRlVXJsdAEraHR0cHM6Ly9hcGkuZWFuLmNvbS92My9wcm9wZXJ0aWVzL2F2YWlsYWJpbGl0eT8mY2hlY2tpbj0yMDIzLTAzLTAzJmNoZWNrb3V0PTIwMjMtMDMtMDQmY3VycmVuY3k9VVNEJmxhbmd1YWdlPWVuLVVTJmNvdW50cnlfY29kZT1VUyZvY2N1cGFuY3k9MiZwcm9wZXJ0eV9pZD01NzE4NDY3NCZzYWxlc19jaGFubmVsPXdlYnNpdGUmc2FsZXNfZW52aXJvbm1lbnQ9aG90ZWxfcGFja2FnZSZyYXRlX3BsYW5fY291bnQ9MjAmcmF0ZV9vcHRpb249bWVtYmVyJnBheW1lbnRfdGVybXM9UEtHJnBhcnRuZXJfcG9pbnRfb2Zfc2FsZT1NT0R0AAp0b3RhbFRheGVzcQB+AJV0AAJtMXNxAH4ANcArPqppV8zQdAACbTJzcQB+ADVAL4qfYBVFDnQAFW9yaWdpbmFsUmF0ZVRpbWVzdGFtcHQAEzIwMjMtMDMtMDIgMTM6MTE6NTBxAH4AUXNxAH4AFXNxAH4ABD9AAAAAAAAAdwgAAAAQAAAAAHhzcQB+AAQ/QAAAAAAADHcIAAAAEAAAAAx0AA1TRUxMQUJMRVNDT1JFcQB+ALpxAH4AYXEAfgB/cQB+AFV0AA1OT05SRUZVTkRBQkxFcQB+AGJxAH4AR3EAfgBXdAAKMjAyMy0wMy0wM3EAfgBjdAAQTE9DQUwgSE9URUwgVElNRXEAfgBlcQB+AH9xAH4AZnEAfgBHcQB+AHRxAH4BInEAfgBbcQB+AIFxAH4AXXEAfgBHcQB+AF9xAH4Af3h0ACdjb20uaG90ZWxwbGFubmVyLmFwaS5tb2RlbC5DYW5jZWxQb2xpY3l3AQB4cQB+AHZ0AVBbeyJlZmZlY3RpdmVEYXRlIjoiMjAyMy0wMy0wMyIsImV4cGlyZURhdGUiOiIyMDIzLTAzLTA0IiwiZHVyYXRpb24iOjEuMCwiYW1vdW50QmVmb3JlVGF4Ijo5OS45OSwiZXh0cmFQZXJzb25GZWUiOjAsImFtb3VudEFmdGVyVGF4IjoxNDEuNzgsInRvdGFsQmVmb3JlVGF4Ijo5OS45OSwidG90YWxFeHRyYVBlcnNvbkZlZXMiOjAuMDAsInRvdGFsQWZ0ZXJUYXgiOjE0MS43OCwidmVuZG9yQmVmb3JlVGF4IjoxMjcuOTcsInZlbmRvckV4dHJhUGVyc29uRmVlIjowLjAwLCJ2ZW5kb3JBZnRlclRheCI6MTQxLjc4LCJwYXJpdHlCZWZvcmVUYXgiOm51bGwsInBhcml0eUFmdGVyVGF4IjpudWxsfV1xAH4AknEAfgCTdAALcm9vbVBob3RvSWR0AAcyIHF1ZWVudAAKY2hpbGRDb3VudHEAfgAadAAHaG90ZWxJZHNxAH4ADQBhxNJ0AAlob3RlbENvZGVxAH4AHHQADm11bHRpTGV2ZWxDb2RldAAHUEFDS0FHRXQACXRpbWVTdGFtcHQADjIwMjMwMzAyMTMxMjM4cQB+AJpxAH4Am3EAfgCcc3EAfgAAc3IAF2phdmEudXRpbC5MaW5rZWRIYXNoTWFwNMBOXBBswPsCAAFaAAthY2Nlc3NPcmRlcnhxAH4ABD9AAAAAAAAMdwgAAAAQAAAABnQAC2dyb3NzUHJvZml0cQB+AKVxAH4ApnEAfgCndAAGbWFyZ2lucQB+AKF0AA50YWlsQ29tbWlzc2lvbnEAfgCjdAAWd2VpZ2h0ZWRUYWlsQ29tbWlzc2lvbnQABTIyLjY4dAATd2VpZ2h0ZWRHcm9zc1Byb2ZpdHQABTIyLjY4eAB0ACBjb2xkZnVzaW9uLnJ1bnRpbWUuU3RydWN0T3JkZXJlZHQAB2NoZWNrSW50AAoyMDIzLTAzLTAzdAAWZnJlZUNhbmNlbGxhdGlvbkN1dE9mZnEAfgAJdAATcHJpY2VDaGVja1RpbWVzdGFtcHQAEzIwMjMtMDMtMDIgMTM6MTI6Mzh0AA5hdmVyYWdlTmlnaHRseXEAfgApdAAGY3Njb3JlcQB+ADZxAH4ApnEAfgCZdAASY2FuY2VsbGF0aW9uUG9saWN5dAANTk9OUkVGVU5EQUJMRXQAEnNtb2tpbmdQcmVmZXJlbmNlc3QAAk5TeHEAfgDVcQB+AI9xAH4AkHQAGlZFTkRPUlRPVEFMRVhUUkFQRVJTT05GRUVTdAAEMC4wMHh0ACNjb20uaG90ZWxwbGFubmVyLmFwaS5tb2RlbC5Sb29tUmF0ZXcBAHh4dAAJcmF0ZVBsYW5zc3EAfgAAc3EAfgAEP0AAAAAAAAx3CAAAABAAAAABdAAJMjcwMzIyMTE4c3EAfgAVc3EAfgAEP0AAAAAAAAB3CAAAABAAAAAAeHNxAH4ABD9AAAAAAAAMdwgAAAAQAAAAA3QABGNvZGVxAH4AOXQABG5hbWVxAH4AyHEAfgBZcQB+AOl4dAAjY29tLmhvdGVscGxhbm5lci5hcGkubW9kZWwuUmF0ZVBsYW53AQB4eHEAfgDVcQB+ASpxAH4BK3EAfgCmcQB+AJl0AAlST09NVFlQRVNzcQB+AABzcQB+AAQ/QAAAAAAADHcIAAAAEAAAAAF0AAkyMjk1MzA0OTdzcQB+ABVzcQB+AAQ/QAAAAAAAAHcIAAAAEAAAAAB4c3EAfgAEP0AAAAAAAAx3CAAAABAAAAAFcQB+AVFxAH4AK3QADk5PUk1BTElaRUROQU1FdAAMMiBRdWVlbiBCZWRzdAAMT1JJR0lOQUxOQU1FdAAMMiBRdWVlbiBCZWRzdAAPZnVsbERlc2NyaXB0aW9ucQB+AQx0AAROQU1FdAAMMiBRdWVlbiBCZWRzeHQAI2NvbS5ob3RlbHBsYW5uZXIuYXBpLm1vZGVsLlJvb21UeXBldwEAeHhxAH4A1Xh0ACdjb20uaG90ZWxwbGFubmVyLmFwaS5tb2RlbC5BdmFpbGFiaWxpdHl3AQB4dAATRVNUSU1BVEVEQ09NTUlTU0lPTnNxAH4ANUA33rhR64UfdAAHUE9TVFBBWXEAfgAadAAQQ1VSUkVOVEFMTE9UTUVOVHEAfgAJcQB+ADxzcQB+ADVAWP9cKPXCj3EAfgA+cQB+AD90ABVpc1ByaWNlQ2hhbmdlT3ZlcnJpZGVxAH4Af3QACklTSU5DUkVBU0VxAH4Af3QAC1RPVEFMUFJFVEFYdAAFOTkuOTl0AAZOSUdIVFNxAH4AkHQAEkNBTkNFTExBVElPTlBPTElDWXEAfgBWdAAbb3JpZ2luYWxWZW5kb3JUb3RhbEFmdGVyVGF4dAAGMTQxLjc4dAAQUFJPTU9ERVNDUklQVElPTnQAGk1lbWJlcuKAmXMgZXhjbHVzaXZlIHByaWNlcQB+AEpxAH4AS3QADU5VTUJFUk9GUk9PTVNxAH4AD3QAEkNVUlJFTlROSUdIVExZUkFURXNxAH4ANUBgwPXCj1wpdAAIRUFSTklOR1NzcQB+AABzcQB+ATI/QAAAAAAADHcIAAAAEAAAAAZxAH4BNHEAfgClcQB+AKZxAH4Ap3EAfgE1cQB+AKFxAH4BNnEAfgCjcQB+ATd0AAUyMi42OHEAfgE5dAAFMjIuNjh4AHEAfgE7dAAUUEhPTkVORVdSRVNFUlZBVElPTlNxAH4ACXEAfgCUc3EAfgA1QETlHrhR64V0AA5BRERJVElPTkFMRkVFU3EAfgCBdAAOUkFURURJRkZFUkVOQ0VzcQB+ADVAHwAAAAAAAHQAC05BVElWRVRPVEFMcQB+ADt0AAxJU0dEU05FVFJBVEVxAH4Af3QACVZBTFVFQUREU3EAfgAJcQB+ALBxAH4AsXQADE5JR0hUTFlSQVRFU3QABjEwMy45OXEAfgFHc3EAfgA1AAAAAAAAAAB0ABBQUklDRUNIQU5HRVRPS0VOdAAUQWNUaE95RkRmdFI5bmFNR3k2cWF0ABVTRVNTSU9ORkFDQURFQ1VSUkVOQ1l0AANVU0R0AAlSRVNPUlRGRUV0AABxAH4AOnNxAH4ANUBhuPXCj1wpdAALREVTQ1JJUFRJT050AAwyIFF1ZWVuIEJlZHNxAH4ARnEAfgD/dAAMT0NDVVBBTkNZVEFYcQB+AAl0AAVUT1RBTHQABjEzNC4wM3QACENVUlJFTkNZdAADVVNEdAAMVE9UQUxUQVhSQVRFcQB+AJNxAH4AmHQAA1VTRHQADlNVUkNIQVJHRVRPVEFMdAAFMzAuMDR0AA5FWFRSQVBFUlNPTkZFRXEAfgAadAAOQ09NTUlTU0lPTlJBVEVzcQB+ADVAM9PFOcZfu3EAfgCsc3EAfgA1AAAAAAAAAAB0ABNDSEVDS0lOSU5TVFJVQ1RJT05TdAABIHhxAH4A1Q==" />
    <input type="hidden" name="hotel" value="rO0ABXNyACdjb2xkZnVzaW9uLnJ1bnRpbWUuVGVtcGxhdGVQcm94eVdyYXBwZXKipp4aug9WeQwAAHhwc3IAEWphdmEudXRpbC5IYXNoTWFwBQfawcMWYNEDAAJGAApsb2FkRmFjdG9ySQAJdGhyZXNob2xkeHA/QAAAAAAAAHcIAAAAEAAAAAB4c3EAfgACP0AAAAAAABh3CAAAACAAAAARdAAIYWRkcmVzczJ0AAB0AARjaXR5dAAJU291dGhsYWtldAAIYWRkcmVzczF0ABYyNTEgRUFTVCBTVEFURSBIV1kgMTE0dAAKcG9zdGFsQ29kZXQABTc2MDkydAAIbGF0aXR1ZGVzcgAUamF2YS5tYXRoLkJpZ0RlY2ltYWxUxxVX+YEoTwMAAkkABXNjYWxlTAAGaW50VmFsdAAWTGphdmEvbWF0aC9CaWdJbnRlZ2VyO3hyABBqYXZhLmxhbmcuTnVtYmVyhqyVHQuU4IsCAAB4cAAAAAZzcgAUamF2YS5tYXRoLkJpZ0ludGVnZXKM/J8fqTv7HQMABkkACGJpdENvdW50SQAJYml0TGVuZ3RoSQATZmlyc3ROb256ZXJvQnl0ZU51bUkADGxvd2VzdFNldEJpdEkABnNpZ251bVsACW1hZ25pdHVkZXQAAltCeHEAfgAQ///////////////+/////gAAAAF1cgACW0Ks8xf4BghU4AIAAHhwAAAABAH253p4eHQABGxpbmtxAH4ABnQAEWRyaXZpbmdEaXJlY3Rpb25zcQB+AAZ0AAdob3RlbElkc3IAEWphdmEubGFuZy5JbnRlZ2VyEuKgpPeBhzgCAAFJAAV2YWx1ZXhxAH4AEABhxNJ0AA92ZW5kb3JIb3RlbENvZGV0AAg1NzE4NDY3NHQAEXN0YXRlUHJvdmluY2VDb2RldAACVFh0AA1ob3RlbElkVHlwZUlkdAABMHQABXBob25lcQB+AAZ0AAtjb3VudHJ5Q29kZXQAAlVTdAAKZW1haWxTYWxlc3EAfgAGdAAEbmFtZXQAKURlbHRhIEhvdGVscyBieSBNYXJyaW90dCBEYWxsYXMgU291dGhsYWtldAADZmF4cQB+AAZ0AAlsb25naXR1ZGVzcQB+AA4AAAAGc3EAfgAS///////////////+/////v////91cQB+ABUAAAAEBcph2Hh4eHQAKGNvbS5ob3RlbHBsYW5uZXIucmVzZXJ2YXRpb24ubW9kZWwuSG90ZWx3AQB4" />

    
    
            <input type="hidden" name="hotelCode" value="57184674">
        

    
    <input type="hidden" name="itemCode" value="" />
    <input type="hidden" name="AmountAfterTax" value="" />
    <input type="hidden" name="CancelDays" value="" />
    <input type="hidden" name="roomType" value="" />

    
    <input type="hidden" name="CorpRateID" value="" />
    <input type="hidden" name="propertyName" value="" />
    <input type="hidden" name="chainCode" value="DE" />
    <input type="hidden" name="cityCode" value="" />
    <input type="hidden" name="rate" value="" />
    <input type="hidden" name="accessCode" value="" />
    <input type="hidden" name="displayRate" value="" />
    <input type="hidden" name="currency" value="USD" />
    
    <input type="hidden" name="sLocale" value="hM5JTq1hlRJzTkJirv5upw" />
    <input type="hidden" name="sCurrency" value="Valrpgu7g5AOxpis0fRM5A" />

    <input type="hidden" name="roomCode" value="" />
    <input type="hidden" name="roomCodeDescription" value="" />
    <input type="hidden" name="supplierId" value="" />
    <input type="hidden" name="propertyId" value="" />
    <input type="hidden" name="nativeCurrency" value="" />
    <input type="hidden" name="supplier" value="eps" />
    <input type="hidden" name="grandTotal" value="" />

    <input type="hidden" name="commission" value="" />
    <input type="hidden" name="nativeCurrencyName" value="" />
    <input type="hidden" name="roomDescription" value="Room, 2 Queen Beds, Non Smoking" />
    <input type="hidden" name="expectedCommission" value="" />
    <input type="hidden" name="totalRate" value="" />

    
    <input type="hidden" name="taxes" value="30.04" />
    <input type="hidden" name="fees" value="0" />
    <input type="hidden" name="SubTotal" value="103.99" />
    <input type="hidden" name="total" value="134.03" />
    <input type="hidden" name="RoomID" value="" />
    <input type="hidden" name="RatePlanCode" value="270322118" />

    <input type="hidden" name="RoomDesc" value="" />
    <input type="hidden" name="CustomRateCode" value="" />

    <input type="hidden" name="m1" value="-13.6223938865"/>
    <input type="hidden" name="m2" value="15.7707471872"/>

    <input type="hidden" name="postPay" value="0">

    
        <input type="hidden" name="checkInInstructions" value="">
    
        <input type="hidden" name="bundle" value="6567FDF6-EE70-D35F-8FC3B763926CDF80">
    
         <input type="hidden" name="bundleAmount" value="141.78"/>
     
        <input type="hidden" name="travelInsuranceToken" id="travelInsuranceToken" value="">
        <input type="hidden" name="travelInsuranceAmount" id="travelInsuranceAmount" value="">
        <input type="hidden" name="travelInsuranceOptIn" id="travelInsuranceOptIn" value="">
    
         <input type="hidden" name="paymentDetails" id="paymentDetails" value=""/>
     
         <input type="hidden" name="paymentMethodId" id="paymentMethodId" value=""/>
         <input type="hidden" name="digitalWallet" id="digitalWallet" value=""/>
     

        </form>

        <small id="accept-policy">
            By clicking "Complete Booking" you agree to accept the cancellation policy and our <a href="/Terms.htm" target="_blank">terms of use</a> .
        </small>

        

    </div>

    <div class="clear"></div>

<div id="rateCheckerFrame" style="position:fixed;top:0;left:0;padding:5% 5% 5% 5%;z-index:99;width:100%;height:100%;display:none;background-color:rgba(0, 0, 0, 0.4);text-align:right;">
  <iframe src="" width="100%" height="100%" style="border-radius: 10px"></iframe>
</div>




<div class="modal fade" id="rejectModal" tabindex="-1" role="dialog" aria-labelledby="Login" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h2 class="modal-title">Are you sure you want to reject this request?</h2>
            </div>
            <div class="modal-body">
                <form id="rejectForm">
                    <div class="form-group">
                        <label for="RejectReasonInput" style="text-align:left;">Rejection Reason: (will be shared with requester)</label>
                        <textarea class="form-control" rows="3" name="Reason" id="RejectReasonInput"></textarea>
                    </div>
                    <div class="form-group row">
                        <button type="submit" class="btn btn-primary" id="btnRejectSubmit">YES, I'm sure</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">No, nevermind</button>
                    </div>
                    <input type="hidden" name="appCode" value="">
                    <input type="hidden" name="approverE" value="">
                    <input type="hidden" name="email" value="">
                </form>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="messageModal" tabindex="-1" role="dialog" aria-labelledby="messageModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body" id="messageModalContent">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>



</div>

</main>

<div class="checkout-footer">

<div class="container-co-v2">
    We have an A+ Rating with the Better Business Bureau and we are enrolled in Trustwave's Trusted Commerce program for PCI compliance.
</div>
</div>


<img src="/TT.htm?Type=3&PageURL=https%3A%2F%2Fwholesale%2Etravelsherlock%2Ecom%2FAccept%2FCheckOut%2Ehtm%3Fcurrency%3DUSD%26locale%3Den%5FUS%26sc%3DWholesale%26sslsite%3DWHOLESALE%2ETRAVELSHERLOCK%2ECOM%26uhid%3D6407378%26vd%3D4XQK9kVS6VTprNNRNbaACw&Notes=checkoutv2&ShowTrap=false&VendorCode=eps&cbuster=65681952-AF77-BCF1-F9AB022182CC64CC" width="1" height="0" hspace="0" vspace="0" border="0" alt="" style="display:none"> <script>
$(document).ready(function() {

// Checkbox
$(".checkbox input").on("click", function() {
    $(this).closest(".checkbox").toggleClass("active");
    $(this).parent().find("i").toggleClass("fa-square").toggleClass("fa-check-square");
});

// frequent guest link
$(".frequentGuestLink").on('click', function(e) {
    e.preventDefault();
    $(this).fadeOut();
    
    $(this).next().fadeIn().focus();
});


$(".show-rates").on('click', function() {
    $(this).hide();
    $("#nightly-rates").show();
});

$('[name=ccNumber]').on('keyup', function() {
    if ($(this).val() !== '') {
        $('.fa-credit-card', '#paymentFields_cc').hide();
    } else {
        $('.fa-credit-card', '#paymentFields_cc').show();
    }
});

$('#btnCheckoutSubmit2').on('click', function() {
    $('#btnCheckoutSubmit').trigger('click');
});

// convert selects into SumoSelects
$('select.form-control').SumoSelect();

$('#ccMonth,#ccYear').on('change',function(){

    console.log($(this).attr("id"));

    if( $(this).attr("id") == "ccMonth" ){
        var monthIndex = $("#ccMonthContainer li[data-val='"+parseInt($(this).val())+"']").index();
        $('select[name="ccMonth"]')[0].sumo.selectItem(monthIndex);
    }else{
        var yearVal = $(this).val();
        if(yearVal.length == 2){
            yearVal = (new Date().getFullYear()).toString().substr(0,2)+yearVal;
        }

        var yearIndex = $("#ccYearContainer li[data-val='"+yearVal+"']").index();
        $('select[name="ccYear"]')[0].sumo.selectItem(yearIndex);
    }
    setTimeout(function() {
        $('[name="ccNumber"]').val($('[name="ccNumber"]').val());
        $('#cvvNumber').trigger('focus');
    }, 100);
});


$('#card_number').on('change',function(e){
    e.preventDefault();
    e.stopPropagation();
    $('[name=ccNumber]').trigger('keyup');
});
$('#card_number,.SumoSelect select.form-control').on('blur click tap',function(e){
    //show the card image by tricking the browser out of autofill mode
    if ( ( $('#card_number').hasClass('american_express') && $('#card_number').val().length == 15) || $('#card_number').val().length == 16 ){
        $('#card_number').val( $('#card_number').val() + '0' );
        $('#card_number').val( $('#card_number').val().slice(0, -1) );
    }
});
 


});
</script>

<script>
if (!window.location.hash) {
    window.location = '#CheckoutContent';
}
</script>


<script>
$(document).ready(function() {
    $.fn.focusWithoutScrolling = function(){
            var x = window.scrollX, y = window.scrollY;
            this.focus();
            window.scrollTo(x, y);
            return this; //chainability
        };
});
</script>


        <script src="//cdn.hotelplanner.com/Common/Javascript/maxmind.js?v=1.0.2" async></script>
        <script>
        var st_script = document.createElement('script');
        st_script.type = 'text/javascript';
        st_script.src = 'https://js.stripe.com/v3/';
        document.body.appendChild(st_script);
        st_script.onload = function() {
          var stripe = Stripe('pk_live_SwvQDEsRMvtpi2rUQJZFZnQT');
        };
        </script>
    

</div>
</div>

<footer class="individual-travel footer-wl" >
<div class="container-wl">
<a href="/Terms.cfm">Terms of Use</a> | <a href="/Privacy.cfm">Privacy</a>
<small>Travel Sherlock, a division of TraVertex. All Rights Reserved.</small>
</div> <img src="/LastActive.htm" id="lastactive" alt=""> 
    <tracking 
        data-sc="Wholesale" 
        data-kw="travel2022" 
        data-jobcode="" 
        data-custom1=""
        data-custom2=""
        data-custom3=""
        data-custom4=""
        data-custom5=""
        data-custom6=""
        data-custom7=""
        data-custom8="">
    </tracking>

</footer>
<script>try{
function bestSavings() {
setTimeout(function() {
    $( "#savings-sort-option" ).click();
},8000);	
}

$( document ).ready(function() {
bestSavings();
});



$( "#viewres-wl" ).after( '<li><a href="/ContactUs.cfm" id="viewres-wl" rel="nofollow">Contact Us</a></li>' ); 


$( "#pg_Checkout .phone-newres" ).replaceWith( `<p>Test</p>`);


}catch(err) {console.error(err)}</script> 
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vaafb692b2aea4879b33c060e79fe94621666317369993" integrity="sha512-0ahDYl866UMhKuYcW078ScMalXqtFJggm7TmlUtp0UlD4eQk0Ixfnm5ykXKvGJNFjLMoortdseTfsRT8oCfgGA==" data-cf-beacon='{"rayId":"7a1bf3cb0d18e546","token":"240f75dbe42d4b83b74ac2ad74914739","version":"2023.2.0","si":100}' crossorigin="anonymous"></script>
</body>
</html> 